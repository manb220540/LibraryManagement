{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:34:58.382Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:34:58.609Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:35:40.716Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:35:40.754Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:37:48.653Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:37:48.836Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:37:53.078Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:37:53.091Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:38:48.984Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:38:49.002Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:38:54.727Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:38:54.771Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:39:22.244Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:39:22.284Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:40:38.884Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:40:38.956Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:40:43.950Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:40:43.963Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:40:47.939Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:40:47.999Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:40:51.183Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:40:51.191Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:40:57.306Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:40:57.351Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:44:57.050Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:44:57.459Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:45:23.042Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:45:23.085Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:45:23.130Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:45:23.137Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:45:32.049Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:45:32.057Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:45:32.059Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:45:32.063Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:45:41.030Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:45:41.031Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:45:41.039Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:45:41.043Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:46:13.491Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:46:13.532Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:46:13.546Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:46:13.553Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:46:20.549Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:46:20.560Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:46:24.187Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:46:24.192Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:46:24.201Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:46:24.214Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:46:25.426Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:46:25.453Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:46:42.919Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:46:42.930Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:46:42.963Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:46:42.964Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:46:52.779Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:46:52.782Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:46:52.785Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:46:52.801Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:47:36.788Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:47:36.792Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:47:36.822Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:47:36.823Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:50:54.149Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:50:54.203Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:50:55.470Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:50:55.481Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:52:04.887Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:52:05.380Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:52:57.979Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:52:58.093Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:53:22.889Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:53:22.921Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:53:36.568Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:53:36.636Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:55:16.859Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:55:16.936Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:55:17.322Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:55:17.339Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:57:22.912Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:57:23.007Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:57:23.591Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:57:23.620Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:57:43.243Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:57:43.260Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:57:43.360Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:57:43.365Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:58:52.862Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:58:52.873Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:58:53.072Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:58:53.175Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:59:03.159Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:59:03.167Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:59:03.175Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:59:03.177Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T14:59:31.831Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T14:59:31.843Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T14:59:31.852Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T14:59:31.857Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:08:25.368Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:08:25.416Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:08:25.550Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:08:25.555Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:08:49.379Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:08:49.391Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:08:49.428Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:08:49.439Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:13:06.806Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:13:06.821Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:13:06.827Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:13:06.835Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:27.164Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:27.171Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:28.008Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:28.010Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:32.010Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:32.011Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:32.614Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:32.615Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:33.329Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:33.331Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:33.824Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:33.825Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:34.969Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:34.970Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:35.203Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:35.204Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:35.405Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:35.406Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:35.588Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:35.589Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:35.803Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:35.803Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:36.046Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:36.048Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:36.219Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:36.220Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:36.422Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:36.423Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:36.621Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:36.623Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:36.790Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:36.791Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:36.997Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:36.998Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:37.204Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:37.206Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:37.736Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:37.737Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:37.954Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:37.955Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:38.137Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:38.137Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:38.322Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:38.323Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:38.503Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:38.504Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:38.670Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:38.671Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man edit","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:13:38.873Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:13:38.873Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:18:02.680Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:18:02.697Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:18:02.698Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man ed","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:18:02.698Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:18:02.708Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:18:03.865Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:18:03.870Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:18:03.870Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man ed","updatedAt":"2025-10-11T12:56:11.000Z"},"level":"info","message":"Updating author","timestamp":"2025-10-12T15:18:03.870Z"}
{"error":"WHERE parameter \"maTacGia\" has invalid \"undefined\" value","level":"error","message":"Update author error","stack":"Error: WHERE parameter \"maTacGia\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1746:13)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1737:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1735:35)\n    at MySQLQueryGenerator.whereQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:1717:24)\n    at MySQLQueryGenerator.updateQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-generator.js:371:116)\n    at MySQLQueryInterface.bulkUpdate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:361:37)\n    at TacGia.update (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2010:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:34:23)","timestamp":"2025-10-12T15:18:03.872Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:18:49.740Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:18:49.757Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:18:49.805Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:18:49.980Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:18:49.989Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:18:50.005Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:29:50.705Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:29:50.712Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:29:50.724Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:29:50.859Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:29:50.887Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:29:50.891Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:29:50.891Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:29:57.379Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:29:57.383Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:29:57.400Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:29:57.412Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:30:04.106Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:30:04.115Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:30:04.115Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Maned","updatedAt":"2025-10-11T12:56:11.000Z"},"id":"1","level":"info","message":"Updating author","timestamp":"2025-10-12T15:30:04.118Z"}
{"author":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Maned","updatedAt":"2025-10-12T15:30:04.000Z"},"level":"info","message":"Author updated","timestamp":"2025-10-12T15:30:04.190Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:30:04.197Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:30:04.199Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:30:04.203Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:30:04.206Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:30:09.689Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:30:09.696Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:30:09.696Z"}
{"data":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man","updatedAt":"2025-10-12T15:30:04.000Z"},"id":"1","level":"info","message":"Updating author","timestamp":"2025-10-12T15:30:09.696Z"}
{"author":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man","updatedAt":"2025-10-12T15:30:09.000Z"},"level":"info","message":"Author updated","timestamp":"2025-10-12T15:30:09.710Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:30:09.728Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:30:09.732Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:30:09.742Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:30:09.746Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:30:23.830Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:30:23.853Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:30:23.853Z"}
{"data":{"diaChi":"viet nam","soDienThoai":"0123456789","tenTacGia":"ky"},"level":"info","message":"Creating author","timestamp":"2025-10-12T15:30:23.861Z"}
{"author":{"createdAt":"2025-10-12T15:30:23.866Z","diaChi":"viet nam","maTacGia":2,"soDienThoai":"0123456789","tenTacGia":"ky","updatedAt":"2025-10-12T15:30:23.866Z"},"level":"info","message":"Author created","timestamp":"2025-10-12T15:30:23.880Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:30:23.895Z"}
{"count":2,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:30:23.898Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:30:23.899Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:30:23.906Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:30:27.874Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:30:27.879Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:30:27.880Z"}
{"level":"info","message":"Checking author books","timestamp":"2025-10-12T15:30:27.880Z"}
{"error":"Unknown column 'NaN' in 'field list'","level":"error","message":"Delete author error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async deleteAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:76:23)","timestamp":"2025-10-12T15:30:27.911Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:32:28.254Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:32:28.356Z"}
{"count":2,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:32:28.412Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:32:28.422Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:32:32.192Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:32:32.225Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:32:32.228Z"}
{"id":"2","level":"info","message":"Checking author books","timestamp":"2025-10-12T15:32:32.229Z"}
{"id":"2","level":"info","message":"Deleting author","timestamp":"2025-10-12T15:32:32.283Z"}
{"id":"2","level":"info","message":"Author deleted successfully","timestamp":"2025-10-12T15:32:32.332Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:32:32.361Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:32:32.366Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:32:32.370Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:32:32.440Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:32:38.080Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:32:38.110Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:32:38.195Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:32:38.204Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:32:48.456Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:32:48.473Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:32:48.515Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:32:48.532Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:32:51.084Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:32:51.106Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:32:51.106Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:32:52.087Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:32:52.102Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:32:52.102Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-12T15:32:56.476Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-12T15:32:56.485Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-12T15:32:56.485Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:32:59.043Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:32:59.048Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:32:59.053Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:32:59.061Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-12T15:33:24.708Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-12T15:33:24.782Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-12T15:33:25.053Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-12T15:33:25.107Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:10:16.160Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T09:10:16.179Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T09:10:16.282Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:10:16.284Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T09:10:25.967Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:10:25.971Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T09:10:25.975Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:10:25.985Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:19:53.663Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:19:54.117Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T09:19:59.960Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:19:59.971Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T09:19:59.988Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:19:59.991Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:20:00.728Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:20:00.738Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:20:04.285Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:20:04.292Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T09:20:26.325Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T09:20:26.361Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T09:20:26.361Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T09:21:24.458Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T09:21:24.485Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T09:21:24.486Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:28:09.211Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:28:09.592Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:40:38.009Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:40:38.399Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:40:41.985Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:40:41.990Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:41:03.673Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:41:03.701Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T09:41:07.711Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T09:41:07.731Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T09:41:07.731Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:41:14.666Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T09:41:14.669Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:41:14.672Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T09:41:14.676Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:41:32.180Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:41:32.200Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:41:33.940Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:41:33.953Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T09:41:43.472Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:41:43.477Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T09:41:43.483Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:41:43.490Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T09:41:52.262Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:41:52.264Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T09:41:52.265Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:41:52.267Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T09:42:02.722Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T09:42:02.750Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T09:42:02.751Z"}
{"data":{"diaChi":"viet nam","tenNXB":"ky"},"level":"info","message":"Creating publisher","timestamp":"2025-10-14T09:42:02.751Z"}
{"level":"info","message":"Publisher created","publisher":{"createdAt":"2025-10-14T09:42:02.752Z","diaChi":"viet nam","maNXB":2,"tenNXB":"ky","updatedAt":"2025-10-14T09:42:02.752Z"},"timestamp":"2025-10-14T09:42:02.780Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T09:42:02.790Z"}
{"count":2,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T09:42:02.792Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:42:02.794Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:42:02.801Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T09:46:03.718Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:46:03.752Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:46:03.869Z"}
{"count":2,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T09:46:03.869Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T09:46:11.284Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T09:46:11.298Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T09:46:11.299Z"}
{"id":"2","level":"info","message":"Checking publisher books","timestamp":"2025-10-14T09:46:11.299Z"}
{"id":"2","level":"info","message":"Deleting publisher","timestamp":"2025-10-14T09:46:11.333Z"}
{"id":"2","level":"info","message":"Publisher deleted successfully","timestamp":"2025-10-14T09:46:11.344Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T09:46:11.358Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:46:11.359Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T09:46:11.361Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:46:11.364Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T09:46:45.439Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T09:46:45.459Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T09:46:45.459Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T09:47:02.509Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T09:47:02.519Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T09:47:02.519Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:47:04.822Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T09:47:04.823Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:47:04.827Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T09:47:04.829Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:47:05.667Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T09:47:05.669Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T09:47:05.677Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T09:47:05.680Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T09:47:05.684Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:47:05.686Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T09:54:53.336Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T09:54:53.342Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T09:54:53.346Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T09:54:53.554Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T09:54:53.555Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T09:54:53.556Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:07:32.059Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:07:34.111Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:07:34.113Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:17:08.096Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:17:08.151Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:17:08.151Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:17:08.151Z"}
{"details":{},"error":"TheLoai.findAll is not a function","level":"error","message":"Error in getAllCategories","stack":"TypeError: TheLoai.findAll is not a function\n    at getAllCategories (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/categoryController.js:13:38)\n    at Layer.handle [as handle_request] (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/express/lib/router/route.js:149:13)\n    at adminAuth (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/middlewares/authMiddleware.js:40:7)\n    at Layer.handle [as handle_request] (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/express/lib/router/route.js:149:13)\n    at auth (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/middlewares/authMiddleware.js:29:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-14T10:17:08.154Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:20:56.398Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:20:56.494Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:20:56.495Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:20:56.496Z"}
{"count":0,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:20:56.506Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:04.844Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:04.849Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:04.850Z"}
{"data":{"tenTheLoai":"lang mang"},"level":"info","message":"Creating category","timestamp":"2025-10-14T10:21:04.850Z"}
{"category":{"createdAt":"2025-10-14T10:21:04.852Z","maTheLoai":1,"tenTheLoai":"lang mang","updatedAt":"2025-10-14T10:21:04.852Z"},"level":"info","message":"Category created","timestamp":"2025-10-14T10:21:04.870Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:04.877Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:04.879Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:04.880Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:21:04.880Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:21:04.888Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:13.767Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:13.775Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:13.776Z"}
{"data":{"createdAt":"2025-10-14T10:21:04.000Z","maTheLoai":1,"soLuongSach":0,"tenTheLoai":"hach kich","updatedAt":"2025-10-14T10:21:04.000Z"},"level":"info","maTheLoai":"1","message":"Updating category","timestamp":"2025-10-14T10:21:13.778Z"}
{"category":{"createdAt":"2025-10-14T10:21:04.000Z","maTheLoai":1,"tenTheLoai":"hach kich","updatedAt":"2025-10-14T10:21:13.000Z"},"level":"info","message":"Category updated","timestamp":"2025-10-14T10:21:13.810Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:13.831Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:13.839Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:13.839Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:21:13.840Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:21:13.842Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:16.600Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:16.604Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:16.604Z"}
{"level":"info","maTheLoai":"1","message":"Checking category books","timestamp":"2025-10-14T10:21:16.604Z"}
{"level":"info","maTheLoai":"1","message":"Deleting category","timestamp":"2025-10-14T10:21:16.612Z"}
{"level":"info","maTheLoai":"1","message":"Category deleted successfully","timestamp":"2025-10-14T10:21:16.616Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:16.623Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:16.625Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:16.625Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:21:16.625Z"}
{"count":0,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:21:16.627Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:22.079Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:22.083Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:22.083Z"}
{"data":{"tenTheLoai":"hai kich"},"level":"info","message":"Creating category","timestamp":"2025-10-14T10:21:22.083Z"}
{"category":{"createdAt":"2025-10-14T10:21:22.083Z","maTheLoai":2,"tenTheLoai":"hai kich","updatedAt":"2025-10-14T10:21:22.083Z"},"level":"info","message":"Category created","timestamp":"2025-10-14T10:21:22.086Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:22.092Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:22.095Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:22.095Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:21:22.095Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:21:22.097Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:38.069Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:38.082Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:38.083Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:21:38.083Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:21:38.085Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:51.684Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:51.707Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:51.707Z"}
{"data":{"createdAt":"2025-10-14T10:21:22.000Z","maTheLoai":2,"soLuongSach":0,"tenTheLoai":"hai kic","updatedAt":"2025-10-14T10:21:22.000Z"},"level":"info","maTheLoai":"2","message":"Updating category","timestamp":"2025-10-14T10:21:51.707Z"}
{"category":{"createdAt":"2025-10-14T10:21:22.000Z","maTheLoai":2,"tenTheLoai":"hai kic","updatedAt":"2025-10-14T10:21:51.000Z"},"level":"info","message":"Category updated","timestamp":"2025-10-14T10:21:51.716Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:51.728Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:51.731Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:51.731Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:21:51.731Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:21:51.733Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:55.884Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:55.888Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:55.888Z"}
{"level":"info","maTheLoai":"2","message":"Checking category books","timestamp":"2025-10-14T10:21:55.888Z"}
{"level":"info","maTheLoai":"2","message":"Deleting category","timestamp":"2025-10-14T10:21:55.891Z"}
{"level":"info","maTheLoai":"2","message":"Category deleted successfully","timestamp":"2025-10-14T10:21:55.893Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:21:55.901Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:21:55.904Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:21:55.905Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:21:55.905Z"}
{"count":0,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:21:55.906Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:22:03.063Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:22:03.067Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:22:03.067Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:22:07.245Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:22:07.253Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:22:07.255Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:22:07.258Z","userId":1}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:22:07.267Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:22:07.270Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:22:07.270Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:22:07.270Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:22:07.272Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:22:07.273Z"}
{"count":0,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:22:07.274Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:29:08.769Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:29:08.896Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:29:08.896Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:29:08.897Z"}
{"count":0,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:29:08.905Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:29:17.703Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:29:17.726Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:29:17.726Z"}
{"data":{"tenTheLoai":"romance"},"level":"info","message":"Creating category","timestamp":"2025-10-14T10:29:17.726Z"}
{"category":{"createdAt":"2025-10-14T10:29:17.727Z","maTheLoai":3,"tenTheLoai":"romance","updatedAt":"2025-10-14T10:29:17.727Z"},"level":"info","message":"Category created","timestamp":"2025-10-14T10:29:17.749Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:29:17.758Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:29:17.762Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:29:17.762Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:29:17.762Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:29:17.772Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:29:20.504Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:29:20.509Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:29:20.518Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:29:20.527Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:29:20.546Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:29:20.548Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:29:20.551Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:29:20.556Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:29:20.556Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:29:20.556Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:29:20.560Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:29:48.162Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:29:48.185Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:29:48.185Z"}
{"data":{"donGia":"10000","maNXB":"1","maTacGia":"1","maTheLoai":"3","namXuatBan":"2025","nguonGoc":"viet nam","soQuyen":"12","tenSach":"test"},"level":"info","message":"Creating book","timestamp":"2025-10-14T10:29:48.206Z"}
{"error":"results.map is not a function","level":"error","message":"Create book error","stack":"TypeError: results.map is not a function\n    at Query.handleSelectQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query.js:198:24)\n    at Query.formatResults (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:99:19)\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:80:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:16\n    at async createBook (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/bookController.js:29:23)","timestamp":"2025-10-14T10:29:48.301Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:29:52.571Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:29:52.580Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:29:52.581Z"}
{"data":{"donGia":"10000","maNXB":"1","maTacGia":"1","maTheLoai":"3","namXuatBan":"2025","nguonGoc":"viet nam","soQuyen":"12","tenSach":"test"},"level":"info","message":"Creating book","timestamp":"2025-10-14T10:29:52.586Z"}
{"error":"results.map is not a function","level":"error","message":"Create book error","stack":"TypeError: results.map is not a function\n    at Query.handleSelectQuery (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query.js:198:24)\n    at Query.formatResults (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:99:19)\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:80:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:16\n    at async createBook (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/bookController.js:29:23)","timestamp":"2025-10-14T10:29:52.590Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:38:15.100Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:38:15.107Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:38:15.109Z"}
{"data":{"donGia":"10000","maNXB":"1","maTacGia":"1","maTheLoai":"3","namXuatBan":"2025","nguonGoc":"viet nam","soQuyen":"12","tenSach":"test"},"level":"info","message":"Creating book","timestamp":"2025-10-14T10:38:15.116Z"}
{"body":{"donGia":"10000","maNXB":"1","maTacGia":"1","maTheLoai":"3","namXuatBan":"2025","nguonGoc":"viet nam","soQuyen":"12","tenSach":"test"},"error":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT @isValid AS isValid' at line 1","level":"error","message":"Create book error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createBook (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/bookController.js:31:23)","timestamp":"2025-10-14T10:38:15.118Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:38:23.829Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:38:23.878Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:38:23.889Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:38:23.897Z","userId":1}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:38:23.904Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:38:23.907Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:38:23.909Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:38:23.914Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:38:23.914Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:38:23.914Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:38:23.919Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:38:49.118Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:38:49.136Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:38:49.136Z"}
{"data":{"donGia":"10000","maNXB":"1","maTacGia":"1","maTheLoai":"3","namXuatBan":"2025","nguonGoc":"viet nam","soQuyen":"12","tenSach":"test"},"level":"info","message":"Creating book","timestamp":"2025-10-14T10:38:49.142Z"}
{"body":{"donGia":"10000","maNXB":"1","maTacGia":"1","maTheLoai":"3","namXuatBan":"2025","nguonGoc":"viet nam","soQuyen":"12","tenSach":"test"},"error":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT @isValid AS isValid' at line 1","level":"error","message":"Create book error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createBook (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/bookController.js:31:23)","timestamp":"2025-10-14T10:38:49.149Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:42:07.475Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:42:07.498Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:42:07.498Z"}
{"data":{"donGia":"10000","maNXB":"1","maTacGia":"1","maTheLoai":"3","namXuatBan":"2025","nguonGoc":"viet nam","soQuyen":"12","tenSach":"test"},"level":"info","message":"Creating book","timestamp":"2025-10-14T10:42:07.504Z"}
{"book":{"createdAt":"2025-10-14T10:42:07.515Z","donGia":10000,"imagePath":"uploads/1760438527502-Capybara CTU.jpg","maNXB":1,"maSach":1,"maTacGia":1,"maTheLoai":3,"namXuatBan":2025,"nguonGoc":"viet nam","soLuongHienCo":12,"tenSach":"test","updatedAt":"2025-10-14T10:42:07.515Z"},"level":"info","message":"Book created","timestamp":"2025-10-14T10:42:07.522Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:42:07.537Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:42:07.548Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:42:07.551Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:42:07.552Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:42:07.552Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:42:07.554Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:42:07.556Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:42:07.556Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:42:07.556Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:42:07.558Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:42:07.574Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:42:32.198Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:42:32.201Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:42:32.202Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:42:32.204Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:42:32.217Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:42:32.230Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:42:32.236Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:42:32.276Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:42:32.277Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:42:32.277Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:42:32.284Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:42:55.064Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:42:55.094Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:42:55.099Z"}
{"data":{"donGia":"10000","maNXB":"1","maSach":"1","maTacGia":"1","maTheLoai":"3","namXuatBan":"2025","nguonGoc":"viet nam","soQuyen":"12","tenSach":"test2"},"id":"1","level":"info","message":"Updating book","timestamp":"2025-10-14T10:42:55.099Z"}
{"book":{"NhaXuatBan":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"viet nam","maNXB":1,"tenNXB":"tran tieu man","updatedAt":"2025-10-11T12:57:46.000Z"},"TacGia":{"createdAt":"2025-10-11T12:56:11.000Z","diaChi":"Viet Nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"Man","updatedAt":"2025-10-12T15:30:09.000Z"},"TheLoai":{"createdAt":"2025-10-14T10:29:17.000Z","maTheLoai":3,"tenTheLoai":"romance","updatedAt":"2025-10-14T10:29:17.000Z"},"createdAt":"2025-10-14T10:42:07.000Z","donGia":10000,"imagePath":"uploads/1760438527502-Capybara CTU.jpg","maNXB":1,"maSach":1,"maTacGia":1,"maTheLoai":3,"namXuatBan":2025,"nguonGoc":"viet nam","soLuongHienCo":12,"tenSach":"test2","updatedAt":"2025-10-14T10:42:55.000Z"},"level":"info","message":"Book updated","timestamp":"2025-10-14T10:42:55.114Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:42:55.140Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:42:55.142Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:42:55.144Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:42:55.147Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:42:55.151Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:42:55.153Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:42:55.155Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:42:55.157Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:42:55.157Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:42:55.157Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:42:55.158Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:43:01.684Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:43:01.689Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:43:01.689Z"}
{"id":"1","level":"info","message":"Checking book quantity","timestamp":"2025-10-14T10:43:01.695Z"}
{"imagePath":"/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/uploads/1760438527502-Capybara CTU.jpg","level":"info","message":"Image deleted","timestamp":"2025-10-14T10:43:01.711Z"}
{"id":"1","level":"info","message":"Book deleted successfully","timestamp":"2025-10-14T10:43:01.714Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:43:01.725Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:43:01.727Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:43:01.728Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:43:01.730Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:43:01.733Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:43:01.734Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:43:01.735Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:43:01.738Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:43:01.738Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:43:01.738Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:43:01.740Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:43:10.196Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:43:10.201Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:43:10.213Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:43:10.217Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:43:11.125Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:43:11.127Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:43:11.128Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:43:11.128Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:43:11.957Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:43:11.962Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:43:11.962Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:43:11.962Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:43:11.965Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:43:12.653Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:43:12.656Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:43:12.657Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:43:14.470Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:43:14.473Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:43:14.473Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:43:15.621Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:43:15.626Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:43:15.626Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:43:36.704Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:43:36.707Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:43:36.713Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:43:36.714Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:43:36.785Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:43:36.786Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:43:36.787Z","userId":1,"userType":"staff"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:43:36.788Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:43:42.461Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:43:42.468Z","userId":1}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:43:42.469Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:43:42.469Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:43:42.471Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:43:42.473Z","userId":1,"userType":"staff"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:43:42.475Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:43:42.475Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:43:46.873Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:43:46.879Z","userId":1}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:43:46.881Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:43:46.885Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:43:46.885Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:43:46.885Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:43:46.889Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:43:51.725Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:43:51.727Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:43:51.729Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:43:51.732Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:43:52.909Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:43:52.911Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:43:52.912Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:43:52.916Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:43:54.806Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:43:54.809Z","userId":1}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:43:54.811Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:43:54.817Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:43:54.818Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:43:54.818Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:43:54.820Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:44:19.325Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:44:19.334Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:44:19.354Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:44:19.363Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:44:21.587Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:44:21.592Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:44:26.127Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:44:26.134Z","userId":1}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:44:26.137Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:44:26.147Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:44:26.147Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:44:26.147Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:44:26.151Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:45:27.705Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:45:27.774Z","userId":1}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:45:27.812Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:45:27.815Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:45:27.815Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:45:27.815Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:45:27.818Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:48:48.803Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:48:48.808Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:48:48.819Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:48:48.824Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:48:49.202Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:48:49.219Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:48:49.238Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:48:49.240Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:48:49.240Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:48:49.240Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:48:49.276Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:49:53.932Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:49:53.940Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:49:53.943Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:49:53.949Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:49:54.024Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:49:54.026Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:49:54.027Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:49:54.042Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:49:54.042Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:49:54.042Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:49:54.048Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:50:26.561Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:50:26.568Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:50:26.578Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:50:26.579Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:50:26.597Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:50:26.598Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:50:26.599Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:50:26.604Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:50:26.604Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:50:33.984Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:50:33.988Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:50:33.990Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:50:33.993Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:50:33.996Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:50:33.997Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:50:33.998Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:50:34.001Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:50:34.001Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:50:34.001Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:50:34.003Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:51:02.349Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:51:02.390Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:51:02.390Z"}
{"data":{"donGia":"12000","maNXB":"1","maTacGia":"1","maTheLoai":"3","namXuatBan":"2025","nguonGoc":"Viet Nam","soQuyen":"10","tenSach":"test"},"level":"info","message":"Creating book","timestamp":"2025-10-14T10:51:02.396Z"}
{"book":{"createdAt":"2025-10-14T10:51:02.415Z","donGia":12000,"imagePath":"uploads/1760439062392-Capybara CTU.jpg","maNXB":1,"maSach":2,"maTacGia":1,"maTheLoai":3,"namXuatBan":2025,"nguonGoc":"Viet Nam","soLuongHienCo":10,"tenSach":"test","updatedAt":"2025-10-14T10:51:02.415Z"},"level":"info","message":"Book created","timestamp":"2025-10-14T10:51:02.436Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:51:02.448Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:51:02.453Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:51:02.454Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:51:02.455Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:51:02.456Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:51:02.457Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:51:02.457Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:51:02.468Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:51:02.468Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:51:02.468Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:51:02.485Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:51:19.514Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:51:19.521Z","userId":1}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:51:19.523Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:51:19.537Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:51:19.551Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:51:19.555Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:51:19.557Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:51:19.560Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:51:23.921Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:51:23.926Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:51:23.928Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:51:23.936Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:51:23.944Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:51:23.945Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:51:23.947Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:51:23.949Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:51:23.949Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:51:23.949Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:51:23.973Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:51:34.318Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:51:34.323Z","userId":1,"userType":"staff"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:51:39.796Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:51:39.798Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:51:39.803Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:51:39.806Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:51:39.806Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:51:39.806Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:51:39.808Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:51:44.668Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:51:44.670Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:51:44.672Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:51:44.674Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:51:47.050Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:51:47.052Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:51:47.054Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:51:47.058Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:51:47.058Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:51:47.058Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:51:47.062Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:51:50.732Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:51:50.735Z","userId":1}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:51:50.737Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:51:50.738Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:51:50.742Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:51:50.743Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:51:50.752Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:51:50.754Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T10:51:50.754Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T10:51:50.754Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T10:51:50.762Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:51:51.631Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:51:51.638Z","userId":1,"userType":"staff"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:51:54.316Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:51:54.317Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:51:54.318Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:51:54.319Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:51:54.324Z","userId":1,"userType":"staff"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:51:54.327Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:51:54.331Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:51:54.340Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T10:52:11.428Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T10:52:11.470Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T10:52:11.506Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T10:52:11.535Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T10:52:12.410Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T10:52:12.411Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T10:52:12.412Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T10:52:12.438Z","userId":1,"userType":"staff"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:34:32.963Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:34:33.253Z","userId":1,"userType":"staff"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:34:34.846Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T13:34:34.851Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T13:34:34.906Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:34:34.916Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T13:34:34.916Z"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T13:34:34.916Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T13:34:34.927Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:34:35.865Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:34:35.872Z","userId":1,"userType":"staff"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:34:37.364Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:34:37.370Z","userId":1,"userType":"staff"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:35:24.451Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:35:24.481Z","userId":1,"userType":"staff"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:35:37.663Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:35:37.683Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T13:35:52.798Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T13:35:52.802Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T13:35:52.817Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T13:35:52.822Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:35:56.806Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:35:56.812Z","userId":1,"userType":"staff"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:35:58.110Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:35:58.112Z","userId":1,"userType":"staff"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:40:01.401Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:40:03.048Z","userId":1,"userType":"staff"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:40:44.193Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:40:44.230Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T13:40:44.231Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:40:49.489Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:40:49.546Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T13:40:49.546Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T13:40:58.217Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T13:40:58.222Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T13:40:58.222Z"}
{"level":"warn","message":"No token provided in Authorization header","timestamp":"2025-10-14T13:55:21.083Z"}
{"level":"warn","message":"No token provided in Authorization header","timestamp":"2025-10-14T13:55:32.417Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-14T14:09:17.927Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:09:18.155Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T14:09:18.155Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:11:27.990Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:11:28.016Z","userId":1,"userType":"reader"}
{"level":"warn","message":"Admin access denied","timestamp":"2025-10-14T14:11:28.017Z","userId":1}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:12:05.075Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:12:05.077Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:12:05.085Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:12:05.087Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T14:12:05.088Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:12:05.140Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:12:05.151Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T14:12:05.153Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:12:09.937Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:12:09.948Z","userId":1,"userType":"reader"}
{"level":"warn","message":"Admin access denied","timestamp":"2025-10-14T14:12:09.949Z","userId":1}
{"level":"warn","message":"No token provided in Authorization header","timestamp":"2025-10-14T14:12:14.929Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:12:31.461Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:12:31.472Z","userId":1,"userType":"reader"}
{"level":"warn","message":"Admin access denied","timestamp":"2025-10-14T14:12:31.473Z","userId":1}
{"level":"warn","message":"No token provided in Authorization header","timestamp":"2025-10-14T14:12:35.694Z"}
{"level":"warn","message":"No token provided in Authorization header","timestamp":"2025-10-14T14:12:40.935Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:12:50.311Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:12:50.330Z","userId":1,"userType":"reader"}
{"level":"warn","message":"Admin access denied","timestamp":"2025-10-14T14:12:50.330Z","userId":1}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:14:23.060Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:14:23.544Z","userId":1,"userType":"reader"}
{"level":"warn","message":"Admin access denied","timestamp":"2025-10-14T14:14:23.546Z","userId":1}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:15:34.102Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:15:34.241Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:15:49.382Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:15:49.412Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:15:54.394Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:15:54.412Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:15:54.427Z","userId":1,"userType":"reader"}
{"level":"warn","message":"Admin access denied","timestamp":"2025-10-14T14:15:54.427Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:15:54.477Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:16:07.553Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T14:16:07.557Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T14:16:07.578Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:16:07.583Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:16:08.735Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:16:08.741Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:16:08.744Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:16:08.752Z","userId":1,"userType":"reader"}
{"level":"warn","message":"Admin access denied","timestamp":"2025-10-14T14:16:08.752Z","userId":1}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:16:09.726Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:16:09.731Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:16:11.294Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:16:11.301Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:16:11.307Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:16:11.311Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:16:12.955Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T14:16:12.978Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:16:12.981Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:16:12.986Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T14:16:12.996Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:16:12.999Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:16:13.001Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:16:13.004Z","userId":1,"userType":"reader"}
{"level":"warn","message":"Admin access denied","timestamp":"2025-10-14T14:16:13.004Z","userId":1}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:16:19.815Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:16:19.818Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:16:19.820Z","userId":1,"userType":"reader"}
{"level":"warn","message":"Admin access denied","timestamp":"2025-10-14T14:16:19.821Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:16:19.826Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:17:31.910Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:17:31.962Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:17:32.006Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T14:17:32.007Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:17:32.019Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T14:17:32.023Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:17:36.090Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:17:36.130Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:17:36.135Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:17:36.140Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:17:37.845Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:17:37.851Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:17:37.894Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:17:37.899Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T14:17:37.906Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:17:37.909Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T14:17:37.915Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:17:37.918Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T14:17:37.918Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T14:17:37.920Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:17:39.390Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:17:39.392Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:17:39.394Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:17:39.399Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T14:17:40.255Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:17:40.257Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T14:17:40.261Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:17:40.272Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:17:41.833Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:17:41.884Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:17:41.896Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T14:17:41.896Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:17:41.900Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T14:17:41.907Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:17:43.394Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:17:43.405Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:17:44.380Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:17:44.385Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:17:47.160Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:17:47.191Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:17:47.232Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:17:47.234Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:17:57.261Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:17:57.278Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:18:02.074Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:18:02.099Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:18:02.145Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:18:02.150Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:18:02.942Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:18:02.945Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:18:02.959Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:18:02.984Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T14:18:02.985Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:18:02.988Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T14:18:02.989Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:18:02.990Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T14:18:02.991Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T14:18:02.992Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T14:18:03.843Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:18:03.850Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T14:18:03.852Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:18:03.857Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:18:13.425Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:18:13.436Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:18:13.442Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T14:18:13.448Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:18:13.454Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:18:13.458Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:18:13.460Z","userId":1,"userType":"reader"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T14:18:13.461Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T14:20:36.071Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T14:20:36.080Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T14:20:36.089Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T14:20:36.092Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T14:20:36.301Z","userId":1,"userType":"reader"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T14:20:36.307Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T14:20:36.310Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T14:20:36.311Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T22:40:33.819Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T22:40:33.836Z","userId":1}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T22:40:33.839Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T22:40:33.840Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T22:40:33.974Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T22:40:33.975Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T22:40:33.976Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T22:40:33.976Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T23:33:23.076Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:33:23.268Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T23:33:32.508Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:33:32.512Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T23:33:35.509Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:33:35.511Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:33:35.517Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T23:33:35.517Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:33:35.534Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T23:33:35.538Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:33:37.189Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T23:33:37.194Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T23:33:37.199Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:33:37.204Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:33:38.371Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T23:33:38.376Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:33:38.386Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T23:33:38.393Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:33:39.288Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T23:33:39.290Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:33:39.294Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T23:33:39.299Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T23:33:39.301Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T23:33:39.304Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T23:33:39.306Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:33:39.307Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T23:33:39.307Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T23:33:39.314Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T23:33:43.024Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:33:43.027Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T23:37:35.085Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:37:35.122Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:37:35.144Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T23:37:35.144Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:37:35.151Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T23:37:35.152Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T23:37:40.574Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:37:40.576Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T23:37:41.601Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:37:41.603Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-14T23:37:43.905Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:37:43.908Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:37:43.909Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-14T23:37:43.909Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:37:43.911Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-14T23:37:43.917Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:37:44.749Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T23:37:44.753Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T23:37:44.754Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:37:44.758Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:37:45.920Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T23:37:45.922Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:37:45.924Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T23:37:45.926Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:52:10.702Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-14T23:52:10.708Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T23:52:10.711Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-14T23:52:10.715Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:52:10.784Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:52:10.789Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T23:52:10.789Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T23:52:10.830Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-14T23:52:10.850Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T23:52:17.572Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:52:17.576Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T23:52:17.580Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:52:17.588Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-14T23:52:20.905Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:52:20.913Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T23:52:20.913Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-14T23:52:20.914Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-14T23:52:20.965Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_64` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"error","message":"Delete author error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.bulkDelete (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async TacGia.destroy (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async deleteAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:76:21)","timestamp":"2025-10-14T23:52:21.001Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-14T23:52:39.524Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:52:39.531Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T23:52:39.532Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-14T23:52:39.532Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-14T23:52:39.534Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_64` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"error","message":"Delete author error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.bulkDelete (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async TacGia.destroy (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async deleteAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:76:21)","timestamp":"2025-10-14T23:52:39.540Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-14T23:55:49.039Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-14T23:55:49.059Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-14T23:55:49.202Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-14T23:55:49.217Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-14T23:55:55.174Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:55:55.185Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T23:55:55.185Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-14T23:55:55.185Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-14T23:55:55.219Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_64` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"error","message":"Delete author error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.bulkDelete (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async TacGia.destroy (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async deleteAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:76:21)","timestamp":"2025-10-14T23:55:55.233Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-14T23:58:24.455Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:58:24.462Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T23:58:24.463Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-14T23:58:24.463Z"}
{"error":"print is not defined","level":"error","message":"Delete author error","stack":"ReferenceError: print is not defined\n    at deleteAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:71:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-14T23:58:24.470Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-14T23:58:53.314Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:58:53.330Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T23:58:53.331Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-14T23:58:53.331Z"}
{"error":"print is not defined","level":"error","message":"Delete author error","stack":"ReferenceError: print is not defined\n    at deleteAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:71:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-14T23:58:53.340Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-14T23:59:50.629Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-14T23:59:50.686Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-14T23:59:50.686Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-14T23:59:50.686Z"}
{"error":"print is not defined","level":"error","message":"Delete author error","stack":"ReferenceError: print is not defined\n    at deleteAuthor (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/authorController.js:71:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-14T23:59:50.691Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:00:03.129Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:00:03.140Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:00:03.141Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:00:03.142Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:00:03.147Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:01:06.074Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:01:06.080Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:01:06.080Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:01:06.080Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:01:06.089Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:01:30.561Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:01:30.605Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:01:30.606Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:01:30.606Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:01:30.611Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_76` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:01:30.619Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:02:05.131Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:02:05.171Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:02:05.172Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:02:05.172Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:02:05.179Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:02:05.182Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:05:25.376Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:05:25.410Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:05:25.629Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:05:25.793Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:05:40.944Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:05:41.012Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:05:41.013Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:05:41.013Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:05:41.022Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:05:41.032Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:05:47.162Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:05:47.185Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:05:47.185Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:05:47.186Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:05:47.201Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:05:47.221Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:06:20.509Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:06:20.528Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:06:20.641Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:06:20.649Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:06:24.933Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:06:24.950Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:06:24.951Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:06:24.951Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:06:24.966Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:06:24.978Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:06:53.460Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:06:53.464Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:06:53.554Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:06:53.562Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:06:56.073Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:06:56.080Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:06:56.080Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:06:56.081Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:06:56.086Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:06:56.106Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:07:07.371Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:07:07.423Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:07:07.461Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:07:07.470Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:07:10.875Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:07:10.879Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:07:10.880Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:07:10.880Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:07:10.885Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:07:10.894Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:07:21.774Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:07:21.782Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:07:21.822Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:07:21.851Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:07:26.214Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:07:26.224Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:07:26.224Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:07:26.225Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:07:26.228Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:07:26.241Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:07:41.317Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:07:41.327Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:07:41.358Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:07:41.359Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:07:45.412Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:07:45.429Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:07:45.459Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:07:45.501Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:07:47.756Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:07:47.777Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:07:47.777Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:07:47.778Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:07:47.791Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:07:47.807Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:08:03.390Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:08:03.395Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:08:03.407Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:08:03.414Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:08:06.758Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:08:06.767Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:08:06.772Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:08:06.775Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:08:09.227Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:08:09.235Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:08:09.235Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:08:09.235Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:08:09.237Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:08:09.241Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:08:19.024Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:08:19.047Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:08:19.073Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:08:19.079Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:16:42.114Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:16:42.168Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:16:42.803Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:16:42.806Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:16:48.715Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:16:48.723Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:16:48.723Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:16:48.723Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:16:48.743Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:16:48.764Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:16:54.363Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:16:54.365Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:16:54.373Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:16:54.375Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:16:57.544Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:16:57.550Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:16:57.551Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:16:57.551Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:16:57.556Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:16:57.564Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:18:21.692Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:18:21.697Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:18:21.766Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:18:21.772Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:18:27.732Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:18:27.739Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:18:27.739Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:18:27.739Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:18:27.748Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_79` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:18:27.764Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:18:41.837Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:18:41.849Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T00:18:41.855Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T00:18:41.879Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:18:44.780Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:18:44.793Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:18:44.793Z","userId":1}
{"level":"info","maTheLoai":"3","message":"Checking category books","timestamp":"2025-10-15T00:18:44.796Z"}
{"level":"info","maTheLoai":"3","message":"Deleting category","timestamp":"2025-10-15T00:18:44.799Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_80` FOREIGN KEY (`maTheLoai`) REFERENCES `theloai` (`maTheLoai`) ON UPDATE CASCADE)","level":"error","maTheLoai":"3","message":"Delete category error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.bulkDelete (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async TheLoai.destroy (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async deleteCategory (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/categoryController.js:120:21)","timestamp":"2025-10-15T00:18:44.888Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:19:35.500Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:19:35.542Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T00:19:35.543Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T00:19:35.549Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:19:39.582Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:19:39.586Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:19:39.586Z","userId":1}
{"level":"info","maTheLoai":"3","message":"Checking category books","timestamp":"2025-10-15T00:19:39.586Z"}
{"level":"info","maTheLoai":"3","message":"Deleting category","timestamp":"2025-10-15T00:19:39.588Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_80` FOREIGN KEY (`maTheLoai`) REFERENCES `theloai` (`maTheLoai`) ON UPDATE CASCADE)","level":"error","maTheLoai":"3","message":"Delete category error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.bulkDelete (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async TheLoai.destroy (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async deleteCategory (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/categoryController.js:120:21)","timestamp":"2025-10-15T00:19:39.594Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:19:53.442Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:19:53.481Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T00:19:53.482Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T00:19:53.497Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:21:06.946Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:21:06.979Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:21:06.980Z","userId":1}
{"level":"info","maTheLoai":"3","message":"Checking category books","timestamp":"2025-10-15T00:21:06.980Z"}
{"level":"info","maTheLoai":"3","message":"Deleting category","timestamp":"2025-10-15T00:21:06.984Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_80` FOREIGN KEY (`maTheLoai`) REFERENCES `theloai` (`maTheLoai`) ON UPDATE CASCADE)","level":"error","maTheLoai":"3","message":"Delete category error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.bulkDelete (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async TheLoai.destroy (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async deleteCategory (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/categoryController.js:120:21)","timestamp":"2025-10-15T00:21:06.996Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:21:46.133Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:21:46.214Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T00:21:46.214Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T00:21:46.221Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:21:48.575Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:21:48.578Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:21:48.578Z","userId":1}
{"level":"info","maTheLoai":"3","message":"Checking category books","timestamp":"2025-10-15T00:21:48.578Z"}
{"level":"info","maTheLoai":"3","message":"Deleting category","timestamp":"2025-10-15T00:21:48.585Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_80` FOREIGN KEY (`maTheLoai`) REFERENCES `theloai` (`maTheLoai`) ON UPDATE CASCADE)","level":"error","maTheLoai":"3","message":"Delete category error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.bulkDelete (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async TheLoai.destroy (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async deleteCategory (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/categoryController.js:120:21)","timestamp":"2025-10-15T00:21:48.588Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:23:12.238Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:23:12.244Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:23:12.259Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:23:12.267Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:23:15.747Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:23:15.754Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:23:15.755Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:23:15.756Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:23:15.765Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_82` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:23:15.773Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:26:50.612Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:26:50.617Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:26:51.136Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:26:51.138Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:26:55.425Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:26:55.443Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:26:55.444Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:26:55.444Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:26:55.470Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_82` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:26:55.484Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:27:50.030Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:27:50.061Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:27:50.089Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:27:50.098Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:27:56.503Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:27:56.599Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:27:56.599Z","userId":1}
{"id":"1","level":"info","message":"Checking author books","timestamp":"2025-10-15T00:27:56.599Z"}
{"id":"1","level":"info","message":"Deleting author","timestamp":"2025-10-15T00:27:56.613Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_82` FOREIGN KEY (`maTacGia`) REFERENCES `tacgia` (`maTacGia`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:27:56.663Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:28:00.364Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:28:00.377Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T00:28:00.390Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T00:28:00.411Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:28:03.383Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:28:03.385Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:28:03.385Z","userId":1}
{"level":"info","maTheLoai":"3","message":"Checking category books","timestamp":"2025-10-15T00:28:03.386Z"}
{"level":"info","maTheLoai":"3","message":"Deleting category","timestamp":"2025-10-15T00:28:03.389Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_83` FOREIGN KEY (`maTheLoai`) REFERENCES `theloai` (`maTheLoai`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:28:03.401Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:30:08.734Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:30:08.774Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T00:30:08.774Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T00:30:08.817Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T00:30:58.760Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:30:58.764Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T00:30:58.770Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:30:58.793Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:31:01.699Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:31:01.706Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:31:01.707Z","userId":1}
{"id":"1","level":"info","message":"Checking publisher books","timestamp":"2025-10-15T00:31:01.707Z"}
{"id":"1","level":"info","message":"Deleting publisher","timestamp":"2025-10-15T00:31:01.721Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_87` FOREIGN KEY (`maNXB`) REFERENCES `nhaxuatban` (`maNXB`) ON UPDATE CASCADE)","level":"error","message":"Delete publisher error","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.bulkDelete (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:403:12)\n    at async NhaXuatBan.destroy (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1838:16)\n    at async deletePublisher (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/publisherController.js:79:21)","timestamp":"2025-10-15T00:31:01.728Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:31:36.402Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:31:36.413Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:31:36.414Z","userId":1}
{"id":"1","level":"info","message":"Checking publisher books","timestamp":"2025-10-15T00:31:36.414Z"}
{"id":"1","level":"info","message":"Deleting publisher","timestamp":"2025-10-15T00:31:36.426Z"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`library_db`.`sach`, CONSTRAINT `sach_ibfk_90` FOREIGN KEY (`maNXB`) REFERENCES `nhaxuatban` (`maNXB`) ON UPDATE CASCADE)","level":"warn","message":"Cannot delete author due to foreign key constraint","timestamp":"2025-10-15T00:31:36.437Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:31:45.282Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T00:31:45.311Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:31:45.313Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:31:45.314Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:31:45.324Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T00:31:45.326Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:31:45.328Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:31:45.330Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T00:31:45.330Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T00:31:45.333Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T00:31:46.247Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T00:31:46.249Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T00:31:46.252Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T00:31:46.264Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:31:48.711Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:31:48.714Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:31:48.714Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T00:35:01.530Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T00:35:01.673Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T00:35:01.673Z","userId":1}
{"level":"info","message":"Token decoded","timestamp":"2025-10-15T13:22:14.552Z"}
{"level":"warn","message":"User not found","timestamp":"2025-10-15T13:22:14.553Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-15T13:22:31.296Z"}
{"level":"warn","message":"User not found","timestamp":"2025-10-15T13:22:31.297Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:22:48.900Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T13:22:48.905Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:22:48.917Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T13:22:48.918Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T13:22:48.922Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T13:22:48.933Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T13:22:48.935Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T13:22:48.936Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:22:54.138Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:22:54.144Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:23:02.835Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:23:02.839Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T13:23:06.636Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T13:23:06.637Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T13:23:06.646Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T13:23:06.651Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:23:08.287Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:23:08.291Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:23:24.472Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:23:24.484Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:23:31.886Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:23:31.889Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:23:36.091Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:23:36.093Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:24:33.376Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:24:33.401Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:24:33.402Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T13:27:38.802Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:27:38.816Z","userId":1}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T13:27:38.818Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:27:38.829Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T13:27:38.835Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T13:27:38.840Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T13:27:38.841Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T13:27:38.842Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:27:43.643Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:27:43.649Z","userId":1,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:27:46.012Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:27:46.014Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T13:27:46.791Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T13:27:46.795Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T13:27:46.799Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:27:46.801Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T13:27:46.802Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T13:27:46.806Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T13:27:48.020Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T13:27:48.023Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T13:27:48.025Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T13:27:48.026Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T13:27:48.751Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T13:27:48.753Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T13:27:48.755Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T13:27:48.757Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T13:27:57.829Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T13:27:57.831Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T13:27:57.833Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:27:57.835Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T13:27:57.838Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T13:27:57.840Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T13:27:57.841Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:27:57.843Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:27:57.844Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:28:06.839Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:28:06.847Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:28:06.848Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:28:10.138Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:28:10.140Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:28:10.140Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:28:49.184Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:28:49.189Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:28:49.190Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:28:54.127Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:28:54.132Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:28:54.132Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:28:56.371Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:28:56.375Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:28:56.375Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:28:59.419Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:28:59.421Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:28:59.422Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:29:01.592Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:29:01.614Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:29:01.615Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:29:11.941Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:29:11.944Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:29:11.945Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:29:34.688Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:29:34.698Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:29:34.698Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:30:02.571Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:30:02.577Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:30:02.577Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:30:06.452Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:30:06.455Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:30:06.455Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:46:25.186Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:46:25.292Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:46:25.292Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:46:37.462Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:46:37.527Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:46:37.527Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:46:40.472Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:46:40.478Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:46:40.479Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:47:23.338Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:47:23.374Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:47:23.375Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:47:32.471Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:47:32.475Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:47:32.475Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:48:02.813Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:48:02.827Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:48:02.827Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:48:15.728Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:48:15.740Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:48:15.741Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:48:22.526Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:48:22.528Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:48:22.528Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:50:10.593Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:50:10.628Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:50:10.628Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:50:50.478Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:50:50.507Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:50:50.507Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:57:01.996Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:57:02.012Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:57:02.013Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T13:57:05.331Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T13:57:05.337Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T13:57:05.337Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:00:31.124Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:00:31.170Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:00:31.170Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:00:35.496Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:00:35.509Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:00:35.510Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:03:48.898Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:03:48.948Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:03:48.948Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:04:23.865Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:04:23.883Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:04:23.883Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:09:59.145Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:09:59.553Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:09:59.553Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:11:35.537Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:11:35.543Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:11:35.543Z","userId":1}
{"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:11:35.544Z","userId":1}
{"level":"warn","message":"Invalid MSNV in updateStaff","timestamp":"2025-10-15T14:11:35.545Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:11:41.819Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:11:41.821Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:11:41.821Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-15T14:11:41.822Z","userId":1}
{"count":1,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-15T14:11:41.827Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:11:45.183Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:11:45.186Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:11:45.187Z","userId":1}
{"level":"info","message":"Attempting to delete reader","timestamp":"2025-10-15T14:11:45.187Z","userId":1}
{"level":"warn","message":"Invalid maDocGia in deleteReader","timestamp":"2025-10-15T14:11:45.188Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:13:26.602Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:13:26.773Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:13:26.773Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-15T14:13:26.773Z","userId":1}
{"count":1,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-15T14:13:26.778Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:14:29.027Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:14:29.036Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:14:29.036Z","userId":1}
{"level":"info","message":"Attempting to delete reader","timestamp":"2025-10-15T14:14:29.037Z","userId":1}
{"level":"warn","message":"Invalid maDocGia in deleteReader","timestamp":"2025-10-15T14:14:29.037Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:14:33.380Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:14:33.382Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:14:33.382Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-15T14:14:33.383Z","userId":1}
{"count":1,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-15T14:14:33.393Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:14:35.953Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:14:35.957Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:14:35.958Z","userId":1}
{"level":"info","message":"Attempting to delete reader","timestamp":"2025-10-15T14:14:35.958Z","userId":1}
{"level":"warn","message":"Invalid maDocGia in deleteReader","timestamp":"2025-10-15T14:14:35.958Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:14:39.901Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:14:39.903Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:14:39.903Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-15T14:14:39.904Z","userId":1}
{"count":1,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-15T14:14:39.905Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:14:46.711Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:14:46.713Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:14:46.713Z","userId":1}
{"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:14:46.713Z","userId":1}
{"level":"warn","message":"Invalid MSNV in updateStaff","timestamp":"2025-10-15T14:14:46.713Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:15:55.500Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:15:55.514Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:15:55.515Z","userId":1}
{"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:15:55.515Z","userId":1}
{"level":"warn","message":"Invalid MSNV in updateStaff","timestamp":"2025-10-15T14:15:55.515Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:16:12.039Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:16:12.049Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:16:12.049Z","userId":1}
{"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:16:12.049Z","userId":1}
{"level":"warn","message":"Invalid MSNV in updateStaff","timestamp":"2025-10-15T14:16:12.049Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:16:33.528Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:16:33.550Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:16:33.550Z","userId":1}
{"data":{"chucVu":"admin","diaChi":"vietnam","hoTenNV":"test","password":"password123","soDienThoai":"0123456789"},"level":"info","message":"Creating new staff","timestamp":"2025-10-15T14:16:33.550Z","userId":1}
{"MSNV":2,"level":"info","message":"Staff created successfully","timestamp":"2025-10-15T14:16:33.627Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:16:38.614Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:16:38.619Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:16:38.619Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-15T14:16:38.619Z","userId":1}
{"count":1,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-15T14:16:38.624Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:16:41.491Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:16:41.493Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:16:41.494Z","userId":1}
{"level":"info","message":"Attempting to delete reader","timestamp":"2025-10-15T14:16:41.494Z","userId":1}
{"level":"warn","message":"Invalid maDocGia in deleteReader","timestamp":"2025-10-15T14:16:41.494Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:25:11.571Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:25:11.589Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:25:11.589Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-15T14:25:11.589Z","userId":1}
{"count":2,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-15T14:25:11.591Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:25:20.522Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:25:20.525Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:25:20.525Z","userId":1}
{"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:25:20.526Z","userId":1}
{"invalidFields":["MSNV","createdAt","updatedAt"],"level":"warn","message":"Invalid fields in updateStaff","timestamp":"2025-10-15T14:25:20.526Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:25:25.873Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:25:25.874Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:25:25.875Z","userId":1}
{"level":"info","message":"Attempting to delete staff","timestamp":"2025-10-15T14:25:25.875Z","userId":1}
{"error":"Unknown column 'PhieuMuon.MSNV' in 'where clause'","level":"error","message":"Error deleting staff","timestamp":"2025-10-15T14:25:25.890Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:25:32.590Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:25:32.597Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:25:32.598Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-15T14:25:32.599Z","userId":1}
{"count":1,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-15T14:25:32.607Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:25:35.553Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:25:35.556Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:25:35.556Z","userId":1}
{"level":"info","message":"Attempting to delete reader","timestamp":"2025-10-15T14:25:35.556Z","userId":1}
{"error":"PhieuMuon is not defined","level":"error","message":"Error deleting reader","timestamp":"2025-10-15T14:25:35.557Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:26:20.105Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:26:20.113Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:26:20.113Z","userId":1}
{"level":"info","message":"Attempting to delete reader","timestamp":"2025-10-15T14:26:20.115Z","userId":1}
{"error":"PhieuMuon is not defined","level":"error","message":"Error deleting reader","timestamp":"2025-10-15T14:26:20.116Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:26:23.327Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:26:23.335Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:26:23.335Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:26:35.362Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:26:35.398Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:26:35.398Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-15T14:26:35.399Z","userId":1}
{"count":2,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-15T14:26:35.400Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:26:39.320Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:26:39.322Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:26:39.322Z","userId":1}
{"level":"info","message":"Attempting to delete staff","timestamp":"2025-10-15T14:26:39.322Z","userId":1}
{"error":"Unknown column 'PhieuMuon.MSNV' in 'where clause'","level":"error","message":"Error deleting staff","timestamp":"2025-10-15T14:26:39.343Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:26:47.312Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:26:47.315Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:26:47.316Z","userId":1}
{"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:26:47.316Z","userId":1}
{"invalidFields":["MSNV","createdAt","updatedAt"],"level":"warn","message":"Invalid fields in updateStaff","timestamp":"2025-10-15T14:26:47.316Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:27:16.950Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:27:16.963Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:27:16.964Z","userId":1}
{"data":{"chucVu":"admin","diaChi":"vietnam","hoTenNV":"test2","password":"password123","soDienThoai":"0123456789"},"level":"info","message":"Creating new staff","timestamp":"2025-10-15T14:27:16.964Z","userId":1}
{"MSNV":3,"level":"info","message":"Staff created successfully","timestamp":"2025-10-15T14:27:17.021Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:27:24.439Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:27:24.445Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:27:24.445Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-15T14:27:24.445Z","userId":1}
{"count":3,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-15T14:27:24.447Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:29:13.965Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:29:14.085Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:29:14.085Z","userId":1}
{"level":"info","message":"Attempting to delete staff","timestamp":"2025-10-15T14:29:14.086Z","userId":1}
{"error":"Unknown column 'PhieuMuon.MSNV' in 'where clause'","level":"error","message":"Error deleting staff","timestamp":"2025-10-15T14:29:14.094Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:29:17.154Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:29:17.156Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:29:17.156Z","userId":1}
{"level":"info","message":"Attempting to delete staff","timestamp":"2025-10-15T14:29:17.156Z","userId":1}
{"error":"Unknown column 'PhieuMuon.MSNV' in 'where clause'","level":"error","message":"Error deleting staff","timestamp":"2025-10-15T14:29:17.159Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:29:39.111Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:29:39.130Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:29:39.130Z","userId":1}
{"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:29:39.130Z","userId":1}
{"invalidFields":["MSNV","createdAt","updatedAt"],"level":"warn","message":"Invalid fields in updateStaff","timestamp":"2025-10-15T14:29:39.130Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:29:51.709Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:29:51.755Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:29:51.755Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-15T14:29:51.761Z","userId":1}
{"count":1,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-15T14:29:51.768Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:29:55.817Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:29:55.819Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:29:55.819Z","userId":1}
{"level":"info","message":"Attempting to delete reader","timestamp":"2025-10-15T14:29:55.819Z","userId":1}
{"error":"PhieuMuon is not defined","level":"error","message":"Error deleting reader","timestamp":"2025-10-15T14:29:55.820Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:32:59.992Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:33:00.021Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:33:00.023Z","userId":1}
{"level":"info","message":"Attempting to delete reader","timestamp":"2025-10-15T14:33:00.024Z","userId":1}
{"level":"info","maDocGia":1,"message":"Reader deleted successfully","timestamp":"2025-10-15T14:33:00.060Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:33:00.066Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:33:00.068Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:33:00.068Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-15T14:33:00.068Z","userId":1}
{"count":0,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-15T14:33:00.069Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:33:11.641Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:33:11.651Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:33:11.652Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-15T14:33:11.652Z","userId":1}
{"count":3,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-15T14:33:11.653Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:33:20.385Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:33:20.386Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:33:20.386Z","userId":1}
{"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:33:20.387Z","userId":1}
{"invalidFields":["MSNV","createdAt","updatedAt"],"level":"warn","message":"Invalid fields in updateStaff","timestamp":"2025-10-15T14:33:20.387Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:33:25.952Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:33:25.954Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:33:25.955Z","userId":1}
{"level":"info","message":"Attempting to delete staff","timestamp":"2025-10-15T14:33:25.955Z","userId":1}
{"error":"Unknown column 'PhieuMuon.MSNV' in 'where clause'","level":"error","message":"Error deleting staff","timestamp":"2025-10-15T14:33:25.961Z","userId":1}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:35:14.252Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:35:14.257Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:35:14.258Z","userId":1}
{"level":"info","message":"Attempting to delete staff","timestamp":"2025-10-15T14:35:14.259Z","userId":1}
{"MSNV":2,"level":"info","message":"Staff deleted successfully","timestamp":"2025-10-15T14:35:14.266Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:35:14.271Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:35:14.273Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:35:14.273Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-15T14:35:14.273Z","userId":1}
{"count":2,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-15T14:35:14.274Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:35:17.446Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:35:17.450Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:35:17.450Z","userId":1}
{"level":"info","message":"Attempting to delete staff","timestamp":"2025-10-15T14:35:17.450Z","userId":1}
{"MSNV":3,"level":"info","message":"Staff deleted successfully","timestamp":"2025-10-15T14:35:17.455Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:35:17.458Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:35:17.459Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:35:17.460Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-15T14:35:17.460Z","userId":1}
{"count":1,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-15T14:35:17.461Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:35:24.118Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:35:24.119Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:35:24.120Z","userId":1}
{"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:35:24.120Z","userId":1}
{"invalidFields":["MSNV","createdAt","updatedAt"],"level":"warn","message":"Invalid fields in updateStaff","timestamp":"2025-10-15T14:35:24.120Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:37:55.268Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:37:55.275Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:37:55.277Z","userId":1}
{"MSNV":1,"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:37:55.277Z"}
{"error":"Op is not defined","level":"error","message":"Error updating staff","timestamp":"2025-10-15T14:37:55.277Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:38:05.502Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:38:05.504Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:38:05.504Z","userId":1}
{"MSNV":1,"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:38:05.504Z"}
{"error":"Op is not defined","level":"error","message":"Error updating staff","timestamp":"2025-10-15T14:38:05.504Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:38:06.492Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:38:06.495Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:38:06.495Z","userId":1}
{"MSNV":1,"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:38:06.495Z"}
{"error":"Op is not defined","level":"error","message":"Error updating staff","timestamp":"2025-10-15T14:38:06.495Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:38:07.227Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:38:07.229Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:38:07.230Z","userId":1}
{"MSNV":1,"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:38:07.230Z"}
{"error":"Op is not defined","level":"error","message":"Error updating staff","timestamp":"2025-10-15T14:38:07.230Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:38:07.434Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:38:07.436Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:38:07.436Z","userId":1}
{"MSNV":1,"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:38:07.436Z"}
{"error":"Op is not defined","level":"error","message":"Error updating staff","timestamp":"2025-10-15T14:38:07.437Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:38:07.630Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:38:07.635Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:38:07.635Z","userId":1}
{"MSNV":1,"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:38:07.635Z"}
{"error":"Op is not defined","level":"error","message":"Error updating staff","timestamp":"2025-10-15T14:38:07.636Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:38:43.509Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:38:43.522Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:38:43.525Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-15T14:38:43.528Z","userId":1}
{"count":1,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-15T14:38:43.531Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:38:50.216Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:38:50.221Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:38:50.221Z","userId":1}
{"MSNV":1,"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:38:50.222Z"}
{"MSNV":1,"level":"info","message":"Staff updated successfully","timestamp":"2025-10-15T14:38:50.244Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:39:00.669Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:39:00.677Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:39:00.677Z","userId":1}
{"MSNV":1,"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:39:00.677Z"}
{"MSNV":1,"level":"info","message":"Staff updated successfully","timestamp":"2025-10-15T14:39:00.687Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:39:01.265Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:39:01.267Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:39:01.267Z","userId":1}
{"MSNV":1,"data":{"MSNV":1,"chucVu":"admin","createdAt":"2025-10-11T12:56:11.000Z","diaChi":"vietnam","hoTenNV":"man","soDienThoai":"0123456789","updatedAt":"2025-10-11T12:57:46.000Z"},"level":"info","message":"Updating staff","timestamp":"2025-10-15T14:39:01.268Z"}
{"MSNV":1,"level":"info","message":"Staff updated successfully","timestamp":"2025-10-15T14:39:01.275Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:39:04.662Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:39:04.664Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:39:04.664Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-15T14:39:04.664Z","userId":1}
{"count":1,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-15T14:39:04.665Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:39:15.453Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:39:15.462Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:39:15.462Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-15T14:39:15.462Z","userId":1}
{"count":1,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-15T14:39:15.463Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-15T14:39:19.685Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:39:19.689Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-15T14:39:19.689Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-15T14:39:19.690Z","userId":1}
{"count":0,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-15T14:39:19.704Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T14:42:32.955Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T14:42:32.973Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T14:42:32.984Z","userId":2}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T14:42:32.988Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:42:33.006Z","userId":2,"userType":"reader"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T14:42:33.007Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T14:42:33.008Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T14:42:33.014Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T14:42:38.361Z","userId":2}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:42:38.363Z","userId":2,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T14:43:13.673Z","userId":2}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:43:13.682Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching profile","timestamp":"2025-10-15T14:43:13.683Z","userId":2,"userType":"reader"}
{"level":"info","message":"Profile fetched successfully","timestamp":"2025-10-15T14:43:13.686Z","userId":2}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T14:43:18.344Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T14:43:18.348Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T14:43:18.419Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T14:43:18.458Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T14:43:19.630Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T14:43:19.658Z","userId":2}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T14:43:19.660Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:43:19.661Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T14:43:19.661Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T14:43:19.667Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T14:43:21.891Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T14:43:21.895Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T14:43:21.897Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T14:43:21.901Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T14:43:22.641Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T14:43:22.643Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T14:43:22.644Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T14:43:22.647Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T14:43:22.648Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T14:43:22.653Z","userId":2}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T14:43:22.655Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:43:22.658Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T14:43:22.658Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T14:43:22.660Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T14:43:25.475Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T14:43:25.477Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T14:43:25.479Z","userId":2}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T14:43:25.483Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T14:43:25.486Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:43:25.487Z","userId":2,"userType":"reader"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T14:43:25.491Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T14:43:25.492Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T14:43:28.877Z","userId":2}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:43:28.879Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching profile","timestamp":"2025-10-15T14:43:28.879Z","userId":2,"userType":"reader"}
{"level":"info","message":"Profile fetched successfully","timestamp":"2025-10-15T14:43:28.881Z","userId":2}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T14:43:30.723Z","userId":2}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:43:30.725Z","userId":2,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T14:43:38.294Z","userId":2}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T14:43:38.296Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T14:43:38.301Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T14:43:38.302Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T14:43:38.333Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T14:43:38.341Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T15:01:15.349Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T15:01:15.378Z","userId":2}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T15:01:16.262Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T15:01:16.264Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T15:01:16.264Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T15:01:16.272Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-15T23:46:42.120Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-15T23:46:42.157Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-15T23:46:42.175Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T23:46:42.186Z","userId":2}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-15T23:46:42.259Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-15T23:46:42.262Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T23:46:42.263Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-15T23:46:42.263Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-15T23:46:42.268Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-15T23:46:42.271Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T23:46:46.591Z","userId":2}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T23:46:46.594Z","userId":2,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-15T23:46:58.808Z","userId":2}
{"level":"info","message":"User authenticated","timestamp":"2025-10-15T23:46:58.820Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:19:38.256Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:19:38.262Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:19:38.263Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:19:38.281Z","userId":2}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:19:38.290Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:19:38.302Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:19:38.327Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:19:38.327Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:19:38.342Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:19:38.350Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:19:55.710Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:19:55.724Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:19:55.726Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:19:55.729Z","userId":2}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:19:55.736Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:19:55.738Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:19:55.741Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:19:55.742Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:19:55.743Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:19:55.745Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:20:24.056Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:20:24.063Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:20:24.097Z","userId":2}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:20:24.100Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:20:24.116Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:20:24.118Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:20:24.120Z","userId":2,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:20:24.120Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:20:24.121Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:20:24.122Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:20:50.440Z","userId":2}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:20:50.460Z","userId":2,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:21:07.737Z","userId":2}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:21:07.747Z","userId":2,"userType":"reader"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:23:20.076Z","userId":2}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:23:20.091Z","userId":2,"userType":"reader"}
{"chiTiet":[{"maSach":2,"soLuongSachMuon":1}],"level":"info","maDocGia":2,"message":"Creating borrow request","timestamp":"2025-10-16T00:23:20.091Z"}
{"body":{"chiTiet":[{"maSach":2,"soLuongSachMuon":1}]},"level":"error","message":"Error creating borrow request Data truncated for column 'trangThai' at row 1","stack":"Error\n    at Query.run (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async PhieuMuon.save (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2490:35)\n    at async PhieuMuon.create (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1362:12)\n    at async createBorrowRequest (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:53:23)","timestamp":"2025-10-16T00:23:20.114Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:31:45.486Z","userId":2}
{"level":"warn","message":"User not found","role":"reader","timestamp":"2025-10-16T00:31:45.493Z","userId":2}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:34:58.465Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:34:58.476Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:34:58.479Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:34:58.514Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:34:58.572Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:34:58.572Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:34:58.574Z"}
{"count":0,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:34:58.576Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:34:58.581Z"}
{"count":0,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:34:58.583Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:39:07.248Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:39:07.252Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:39:07.257Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:39:07.261Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:39:07.264Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:39:07.264Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:39:07.265Z"}
{"level":"error","message":"Error fetching borrow requests ChiTietPhieuMuon is associated to PhieuMuon using an alias. You must use the 'as' keyword to specify the alias within your include statement.","stack":"SequelizeEagerLoadingError: ChiTietPhieuMuon is associated to PhieuMuon using an alias. You must use the 'as' keyword to specify the alias within your include statement.\n    at PhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:576:13)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllBorrowRequests (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:8:22)","timestamp":"2025-10-16T00:39:07.268Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:39:07.283Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:39:07.284Z"}
{"count":0,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:39:07.285Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:39:16.146Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:39:16.150Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:39:16.150Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-16T00:39:16.150Z","userId":1}
{"count":1,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-16T00:39:16.153Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:39:19.233Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:39:19.237Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:39:19.244Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:39:19.246Z","userId":1}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:39:19.250Z"}
{"count":0,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:39:19.253Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:39:19.272Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:39:19.274Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:39:19.274Z"}
{"count":0,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:39:19.281Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:39:28.881Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:39:28.882Z"}
{"count":0,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:39:28.884Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:39:28.890Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:39:38.388Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:39:38.401Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:39:38.402Z","userId":1}
{"data":{"diaChi":"viet nam","tenNXB":"man"},"level":"info","message":"Creating publisher","timestamp":"2025-10-16T00:39:38.403Z"}
{"level":"info","message":"Publisher created","publisher":{"createdAt":"2025-10-16T00:39:38.404Z","diaChi":"viet nam","maNXB":1,"tenNXB":"man","updatedAt":"2025-10-16T00:39:38.404Z"},"timestamp":"2025-10-16T00:39:38.439Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:39:38.446Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:39:38.448Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:39:38.450Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:39:38.452Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:39:40.327Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:39:40.331Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:39:40.336Z"}
{"count":0,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:39:40.337Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:39:56.556Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:39:56.565Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:39:56.565Z","userId":1}
{"data":{"diaChi":"viet nam","soDienThoai":"0123456789","tenTacGia":"man"},"level":"info","message":"Creating author","timestamp":"2025-10-16T00:39:56.565Z"}
{"author":{"createdAt":"2025-10-16T00:39:56.565Z","diaChi":"viet nam","maTacGia":1,"soDienThoai":"0123456789","tenTacGia":"man","updatedAt":"2025-10-16T00:39:56.565Z"},"level":"info","message":"Author created","timestamp":"2025-10-16T00:39:56.579Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:39:56.587Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:39:56.588Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:39:56.589Z"}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:39:56.591Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:39:58.096Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:39:58.098Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:39:58.098Z"}
{"count":0,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:39:58.100Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:40:04.980Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:40:04.983Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:40:04.983Z","userId":1}
{"data":{"tenTheLoai":"lang mạn"},"level":"info","message":"Creating category","timestamp":"2025-10-16T00:40:04.983Z"}
{"category":{"createdAt":"2025-10-16T00:40:04.984Z","maTheLoai":1,"tenTheLoai":"lang mạn","updatedAt":"2025-10-16T00:40:04.984Z"},"level":"info","message":"Category created","timestamp":"2025-10-16T00:40:04.993Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:40:04.998Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:40:05.000Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:40:05.000Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:40:05.005Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:40:06.063Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:40:06.065Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:40:06.065Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-16T00:40:06.065Z","userId":1}
{"count":1,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-16T00:40:06.067Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:40:07.045Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:40:07.047Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:40:07.047Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-16T00:40:07.047Z","userId":1}
{"count":1,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-16T00:40:07.049Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:40:09.362Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:40:09.364Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:40:09.364Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:40:09.364Z"}
{"level":"error","message":"Error fetching borrow requests ChiTietPhieuMuon is associated to PhieuMuon using an alias. You must use the 'as' keyword to specify the alias within your include statement.","stack":"SequelizeEagerLoadingError: ChiTietPhieuMuon is associated to PhieuMuon using an alias. You must use the 'as' keyword to specify the alias within your include statement.\n    at PhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:576:13)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllBorrowRequests (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:8:22)","timestamp":"2025-10-16T00:40:09.365Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:40:13.925Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:40:13.929Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:40:13.932Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:40:13.936Z","userId":1}
{"count":0,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:40:13.940Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:40:13.943Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:40:13.948Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:40:13.954Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:40:13.954Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:40:13.956Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:40:52.733Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:40:52.752Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:40:52.753Z","userId":1}
{"data":{"donGia":"12000","maNXB":"1","maTacGia":"1","maTheLoai":"1","namXuatBan":"2025","nguonGoc":"viet nam","soQuyen":"12","tenSach":"test"},"level":"info","message":"Creating book","timestamp":"2025-10-16T00:40:52.760Z"}
{"book":{"createdAt":"2025-10-16T00:40:52.784Z","donGia":12000,"imagePath":"uploads/1760575252758-Capybara CTU.jpg","maNXB":1,"maSach":1,"maTacGia":1,"maTheLoai":1,"namXuatBan":2025,"nguonGoc":"viet nam","soLuongHienCo":12,"tenSach":"test","updatedAt":"2025-10-16T00:40:52.784Z"},"level":"info","message":"Book created","timestamp":"2025-10-16T00:40:52.791Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:40:52.798Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:40:52.802Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:40:52.802Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:40:52.803Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:40:52.807Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:40:52.810Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:40:52.812Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:40:52.812Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:40:52.813Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:40:52.814Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:41:07.497Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:41:07.502Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:41:07.509Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:41:07.510Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:41:07.517Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:41:07.518Z"}
{"level":"error","maDocGia":1,"message":"Error fetching borrow history ChiTietPhieuMuon is associated to PhieuMuon using an alias. You must use the 'as' keyword to specify the alias within your include statement.","stack":"SequelizeEagerLoadingError: ChiTietPhieuMuon is associated to PhieuMuon using an alias. You must use the 'as' keyword to specify the alias within your include statement.\n    at PhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:576:13)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getReaderBorrowHistory (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:26:21)","timestamp":"2025-10-16T00:41:07.520Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:41:07.521Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:41:07.527Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:41:07.531Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:41:12.041Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:41:12.043Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:41:12.044Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:41:12.046Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:41:12.048Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:41:12.049Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:41:12.050Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:41:12.057Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:41:12.057Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:41:12.062Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:41:17.554Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:41:17.557Z","userId":1,"userType":"reader"}
{"chiTiet":[{"maSach":1,"soLuongSachMuon":1}],"level":"info","maDocGia":1,"message":"Creating borrow request","timestamp":"2025-10-16T00:41:17.558Z"}
{"level":"info","maPhieuMuon":1,"message":"Borrow request created","timestamp":"2025-10-16T00:41:17.568Z"}
{"level":"info","maPhieuMuon":1,"message":"Borrow request completed successfully","timestamp":"2025-10-16T00:41:17.581Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:41:17.587Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:41:17.589Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:41:17.591Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:41:17.592Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:41:17.594Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:41:17.595Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:41:17.597Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:41:17.598Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:41:17.598Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:41:17.601Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:41:21.538Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:41:21.542Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching profile","timestamp":"2025-10-16T00:41:21.542Z","userId":1,"userType":"reader"}
{"level":"info","message":"Profile fetched successfully","timestamp":"2025-10-16T00:41:21.544Z","userId":1}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:41:22.236Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:41:22.238Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:41:22.238Z"}
{"level":"error","maDocGia":1,"message":"Error fetching borrow history ChiTietPhieuMuon is associated to PhieuMuon using an alias. You must use the 'as' keyword to specify the alias within your include statement.","stack":"SequelizeEagerLoadingError: ChiTietPhieuMuon is associated to PhieuMuon using an alias. You must use the 'as' keyword to specify the alias within your include statement.\n    at PhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:576:13)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getReaderBorrowHistory (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:26:21)","timestamp":"2025-10-16T00:41:22.239Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:46:01.151Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:46:01.224Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:46:01.224Z"}
{"level":"error","maDocGia":1,"message":"Error fetching borrow history Sach is associated to ChiTietPhieuMuon using an alias. You must use the 'as' keyword to specify the alias within your include statement.","stack":"SequelizeEagerLoadingError: Sach is associated to ChiTietPhieuMuon using an alias. You must use the 'as' keyword to specify the alias within your include statement.\n    at ChiTietPhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:576:13)\n    at ChiTietPhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at ChiTietPhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:557:38)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)","timestamp":"2025-10-16T00:46:01.227Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:48:53.895Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:48:53.934Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:48:53.935Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T00:48:53.973Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:49:22.546Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:49:22.552Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:49:22.562Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:49:22.565Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:49:22.568Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:49:22.574Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:49:22.617Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:49:22.618Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:49:22.618Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:49:22.618Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T00:49:22.624Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:49:28.738Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:49:28.741Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:49:28.741Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:49:28.741Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T00:49:28.747Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:49:53.648Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:49:53.664Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:49:53.670Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:49:53.671Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:49:53.677Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:49:53.683Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:49:53.687Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:49:53.687Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:49:53.690Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T00:49:53.696Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:49:57.282Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:49:57.285Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:49:57.285Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T00:49:57.292Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:53:34.501Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:53:34.769Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:53:34.769Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T00:53:34.820Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:53:58.253Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:53:58.341Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:53:58.341Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T00:53:58.346Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:54:22.379Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:54:22.384Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:54:22.386Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:54:22.390Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:54:22.416Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:54:22.418Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:54:22.419Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:54:22.419Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:54:22.419Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:54:22.426Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T00:54:22.439Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:54:26.582Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:54:26.584Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:54:26.584Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:54:26.584Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T00:54:26.588Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:54:29.753Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:54:29.755Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:54:29.755Z","userId":1}
{"level":"info","maPhieuMuon":"1","message":"Updating borrow request","timestamp":"2025-10-16T00:54:29.756Z","trangThai":"Đã duyệt"}
{"level":"info","maPhieuMuon":"1","message":"Borrow request updated successfully","timestamp":"2025-10-16T00:54:29.804Z","trangThai":"Đã duyệt"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:54:29.812Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:54:29.814Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:54:29.814Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:54:29.814Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T00:54:29.817Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:54:35.135Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:54:35.151Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:54:35.165Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:54:35.167Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:54:35.172Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:54:35.176Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:54:35.179Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:54:35.180Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:54:35.180Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:54:35.180Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T00:54:35.183Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:54:38.571Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:54:38.573Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:54:38.574Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:54:38.578Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:54:38.579Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:54:38.580Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:54:38.581Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:54:38.583Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:54:38.583Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:54:38.583Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T00:54:38.585Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:54:55.977Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:54:55.979Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:54:55.984Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:54:56.001Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:54:56.031Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:54:56.037Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:54:56.039Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:54:56.040Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:54:56.048Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T00:54:56.051Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:55:00.913Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:55:00.971Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching profile","timestamp":"2025-10-16T00:55:00.972Z","userId":1,"userType":"reader"}
{"level":"info","message":"Profile fetched successfully","timestamp":"2025-10-16T00:55:00.974Z","userId":1}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:55:02.567Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:55:02.571Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:55:02.571Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T00:55:02.580Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:55:34.174Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:55:34.179Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:55:34.179Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:55:34.181Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:55:34.183Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:55:34.193Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:55:34.196Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:55:34.200Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:55:34.200Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:55:34.200Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T00:55:34.211Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T00:55:38.096Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:55:38.098Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T00:55:38.098Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T00:55:38.098Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T00:55:38.102Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:56:11.761Z","userId":1}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:56:11.765Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:56:11.769Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:56:11.802Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:56:11.809Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:56:11.809Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:56:11.810Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:56:11.815Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:56:11.817Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T00:56:11.820Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:56:15.880Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T00:56:15.882Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T00:56:15.884Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T00:56:15.895Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T00:56:15.900Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:56:15.903Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:56:15.904Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:56:15.910Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:56:15.910Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:56:15.916Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:56:22.115Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:56:22.119Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching profile","timestamp":"2025-10-16T00:56:22.119Z","userId":1,"userType":"reader"}
{"level":"info","message":"Profile fetched successfully","timestamp":"2025-10-16T00:56:22.120Z","userId":1}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:56:24.952Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T00:56:24.954Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:56:24.972Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T00:56:24.973Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T00:56:24.976Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T00:56:24.982Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:56:28.249Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:56:28.250Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:56:28.251Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T00:56:28.253Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T00:56:49.139Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T00:56:49.253Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T00:56:49.253Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T00:56:49.301Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T04:19:53.152Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T04:19:53.242Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T04:19:53.242Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T04:19:53.254Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T04:50:33.934Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T04:50:34.118Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T04:50:34.118Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T04:50:34.168Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:08:45.617Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:08:45.939Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T05:08:45.940Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T05:08:46.160Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:09:07.804Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:09:07.830Z","userId":1,"userType":"reader"}
{"level":"info","maPhieuMuon":"1","message":"Exporting borrow slip","timestamp":"2025-10-16T05:09:07.831Z"}
{"level":"info","maPhieuMuon":"1","message":"Borrow slip exported successfully","timestamp":"2025-10-16T05:09:07.894Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:09:50.171Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:09:50.173Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:09:50.174Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:09:50.175Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:09:50.214Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:09:50.214Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:09:50.214Z"}
{"level":"error","message":"Error fetching borrow requests PhieuTra is not associated to PhieuMuon!","stack":"SequelizeEagerLoadingError: PhieuTra is not associated to PhieuMuon!\n    at PhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:565:13)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllBorrowRequests (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:8:22)","timestamp":"2025-10-16T05:09:50.216Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:09:50.226Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:09:50.228Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:09:50.231Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:09:59.140Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:09:59.152Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:09:59.154Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:09:59.154Z"}
{"level":"error","message":"Error fetching borrow requests PhieuTra is not associated to PhieuMuon!","stack":"SequelizeEagerLoadingError: PhieuTra is not associated to PhieuMuon!\n    at PhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:565:13)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllBorrowRequests (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:8:22)","timestamp":"2025-10-16T05:09:59.155Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:10:06.860Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:10:06.863Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:10:06.863Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:10:06.863Z"}
{"level":"error","message":"Error fetching borrow requests PhieuTra is not associated to PhieuMuon!","stack":"SequelizeEagerLoadingError: PhieuTra is not associated to PhieuMuon!\n    at PhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:565:13)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllBorrowRequests (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:8:22)","timestamp":"2025-10-16T05:10:06.864Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:18:06.055Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:18:06.174Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:18:06.174Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:18:06.175Z"}
{"level":"error","message":"Error fetching borrow requests PhieuTra is not associated to PhieuMuon!","stack":"SequelizeEagerLoadingError: PhieuTra is not associated to PhieuMuon!\n    at PhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:565:13)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllBorrowRequests (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:8:22)","timestamp":"2025-10-16T05:18:06.176Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:18:27.977Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:18:28.059Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:18:28.059Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:18:28.059Z"}
{"level":"error","message":"Error fetching borrow requests PhieuTra is not associated to PhieuMuon!","stack":"SequelizeEagerLoadingError: PhieuTra is not associated to PhieuMuon!\n    at PhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:565:13)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllBorrowRequests (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:8:22)","timestamp":"2025-10-16T05:18:28.060Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:18:46.913Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:18:46.962Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:18:46.962Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:18:46.962Z"}
{"level":"error","message":"Error fetching borrow requests PhieuTra is not associated to PhieuMuon!","stack":"SequelizeEagerLoadingError: PhieuTra is not associated to PhieuMuon!\n    at PhieuMuon._getIncludedAssociation (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:565:13)\n    at PhieuMuon._validateIncludedElement (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at PhieuMuon._validateIncludedElements (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:417:39)\n    at PhieuMuon.findAll (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllBorrowRequests (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:8:22)","timestamp":"2025-10-16T05:18:46.963Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:19:02.423Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:19:02.453Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:19:02.453Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:19:02.453Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:19:02.465Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:19:17.202Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:19:17.212Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:19:17.212Z","userId":1}
{"level":"info","maPhieuMuon":"1","message":"Updating borrow request","timestamp":"2025-10-16T05:19:17.213Z","trangThai":"Đã trả"}
{"level":"error","maPhieuMuon":"1","message":"Error updating borrow request notNull Violation: PhieuTra.maPhieuTra cannot be null","stack":"SequelizeValidationError: notNull Violation: PhieuTra.maPhieuTra cannot be null\n    at InstanceValidator._validate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:60:7)\n    at async InstanceValidator.validate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:54:12)\n    at async PhieuTra.save (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2426:7)\n    at async PhieuTra.create (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1362:12)\n    at async updateBorrowRequest (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:149:9)","timestamp":"2025-10-16T05:19:17.219Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:19:26.834Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:19:26.845Z","userId":1,"userType":"staff"}
{"level":"info","maPhieuMuon":"1","message":"Exporting borrow slip","timestamp":"2025-10-16T05:19:26.847Z"}
{"level":"info","maPhieuMuon":"1","message":"Borrow slip exported successfully","timestamp":"2025-10-16T05:19:26.923Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:19:48.195Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:19:48.212Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:19:48.213Z","userId":1}
{"level":"info","maPhieuMuon":"1","message":"Updating borrow request","timestamp":"2025-10-16T05:19:48.213Z","trangThai":"Đã trả"}
{"level":"error","maPhieuMuon":"1","message":"Error updating borrow request notNull Violation: PhieuTra.maPhieuTra cannot be null","stack":"SequelizeValidationError: notNull Violation: PhieuTra.maPhieuTra cannot be null\n    at InstanceValidator._validate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:60:7)\n    at async InstanceValidator.validate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:54:12)\n    at async PhieuTra.save (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2426:7)\n    at async PhieuTra.create (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1362:12)\n    at async updateBorrowRequest (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:149:9)","timestamp":"2025-10-16T05:19:48.219Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:20:11.853Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:20:11.887Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:20:11.894Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:20:11.897Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:20:11.902Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:20:11.904Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:20:11.905Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T05:20:11.906Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:20:11.907Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T05:20:11.926Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:20:16.103Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:20:16.105Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T05:20:16.105Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T05:20:16.110Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:21:04.955Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:21:04.961Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:21:04.962Z","userId":1}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:21:04.966Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:21:05.000Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:21:05.007Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:21:05.007Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:21:05.007Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:21:05.009Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:21:05.009Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:21:05.026Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:21:49.529Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:21:49.564Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:21:49.565Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:21:49.565Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:21:49.576Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:21:56.216Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:21:56.221Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:21:56.221Z","userId":1}
{"level":"info","maPhieuMuon":"1","message":"Updating borrow request","timestamp":"2025-10-16T05:21:56.221Z","trangThai":"Đã trả"}
{"level":"error","maPhieuMuon":"1","message":"Error updating borrow request notNull Violation: PhieuTra.maPhieuTra cannot be null","stack":"SequelizeValidationError: notNull Violation: PhieuTra.maPhieuTra cannot be null\n    at InstanceValidator._validate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:60:7)\n    at async InstanceValidator.validate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:54:12)\n    at async PhieuTra.save (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2426:7)\n    at async PhieuTra.create (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1362:12)\n    at async updateBorrowRequest (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:149:9)","timestamp":"2025-10-16T05:21:56.230Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:22:05.994Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:22:05.999Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:22:05.999Z","userId":1}
{"level":"info","maPhieuMuon":"1","message":"Updating borrow request","timestamp":"2025-10-16T05:22:05.999Z","trangThai":"Đã trả"}
{"level":"error","maPhieuMuon":"1","message":"Error updating borrow request notNull Violation: PhieuTra.maPhieuTra cannot be null","stack":"SequelizeValidationError: notNull Violation: PhieuTra.maPhieuTra cannot be null\n    at InstanceValidator._validate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:60:7)\n    at async InstanceValidator.validate (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/instance-validator.js:54:12)\n    at async PhieuTra.save (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:2426:7)\n    at async PhieuTra.create (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/sequelize/lib/model.js:1362:12)\n    at async updateBorrowRequest (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:149:9)","timestamp":"2025-10-16T05:22:06.005Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:25:42.911Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:25:42.936Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:25:42.938Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:25:42.945Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:25:42.948Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:25:42.958Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:25:42.959Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:25:42.961Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:25:42.961Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:25:42.961Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:25:42.967Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:25:45.465Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:25:45.468Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:25:45.469Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:25:45.470Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:25:45.472Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:25:45.480Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:25:45.481Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:25:45.481Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:25:45.503Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:25:45.517Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:25:45.527Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:25:49.602Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:25:49.614Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:25:49.615Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:25:49.615Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:25:49.623Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:25:53.771Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:25:53.775Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:25:53.775Z","userId":1}
{"level":"info","maPhieuMuon":"1","message":"Updating borrow request","timestamp":"2025-10-16T05:25:53.776Z","trangThai":"Đã trả"}
{"level":"info","maPhieuMuon":"1","message":"Borrow request updated successfully","timestamp":"2025-10-16T05:25:53.828Z","trangThai":"Đã trả"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:25:53.834Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:25:53.835Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:25:53.836Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:25:53.836Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:25:53.837Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:26:09.052Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:26:09.063Z","userId":1,"userType":"staff"}
{"level":"info","maPhieuTra":"1","message":"Exporting return slip","timestamp":"2025-10-16T05:26:09.064Z"}
{"level":"info","maPhieuTra":"1","message":"Return slip exported successfully","timestamp":"2025-10-16T05:26:09.149Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:29:33.895Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:29:33.917Z","userId":1,"userType":"staff"}
{"level":"info","maPhieuMuon":"1","message":"Exporting borrow slip","timestamp":"2025-10-16T05:29:33.917Z"}
{"level":"info","maPhieuMuon":"1","message":"Borrow slip exported successfully","timestamp":"2025-10-16T05:29:34.010Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:30:00.295Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:30:00.349Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:30:00.350Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:30:00.350Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:30:00.371Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:30:03.341Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:30:03.343Z","userId":1,"userType":"staff"}
{"level":"info","maPhieuTra":"1","message":"Exporting return slip","timestamp":"2025-10-16T05:30:03.344Z"}
{"level":"info","maPhieuTra":"1","message":"Return slip exported successfully","timestamp":"2025-10-16T05:30:03.376Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:30:58.215Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:30:58.859Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:30:58.859Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:30:58.859Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:30:58.915Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:31:01.793Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:31:01.806Z","userId":1,"userType":"staff"}
{"level":"info","maPhieuTra":"1","message":"Exporting penalty form","timestamp":"2025-10-16T05:31:01.808Z"}
{"level":"info","maPhieuTra":"1","message":"Penalty form exported successfully","timestamp":"2025-10-16T05:31:01.837Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:34:25.121Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:34:25.218Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:34:25.219Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:34:25.220Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:34:25.258Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:34:27.669Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:34:27.682Z","userId":1,"userType":"staff"}
{"level":"info","maPhieuMuon":"1","message":"Exporting borrow slip","timestamp":"2025-10-16T05:34:27.683Z"}
{"error":"ENOENT: no such file or directory, open '/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/fonts/Roboto-Regular.ttf'","level":"error","message":"Font loading failed","timestamp":"2025-10-16T05:34:27.726Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:52:40.083Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:52:40.164Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:52:40.165Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:52:40.167Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:52:40.205Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:52:43.034Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:52:43.095Z","userId":1,"userType":"staff"}
{"level":"info","maPhieuMuon":"1","message":"Exporting borrow slip","timestamp":"2025-10-16T05:52:43.097Z"}
{"level":"info","maPhieuMuon":"1","message":"Borrow slip exported successfully","timestamp":"2025-10-16T05:52:43.203Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:54:09.646Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:54:09.664Z","userId":1,"userType":"staff"}
{"level":"info","maPhieuMuon":"1","message":"Exporting borrow slip","timestamp":"2025-10-16T05:54:09.664Z"}
{"level":"info","maPhieuMuon":"1","message":"Borrow slip exported successfully","timestamp":"2025-10-16T05:54:09.807Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:54:56.027Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:54:56.129Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:54:56.163Z","userId":1}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:54:56.180Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:54:57.177Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:54:57.182Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:54:57.185Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:54:57.195Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:54:57.199Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:54:57.385Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:54:57.449Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:55:00.429Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:55:00.446Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:55:00.448Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:55:00.453Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:55:00.475Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:55:00.534Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:55:00.556Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:55:00.556Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:55:00.556Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:55:00.564Z"}
{"count":1,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:55:00.584Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:55:15.174Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:55:15.179Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:55:15.182Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:55:15.183Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:55:15.278Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:55:15.280Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:55:15.299Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:55:15.304Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T05:55:15.305Z"}
{"count":1,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T05:55:15.310Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:55:23.460Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:55:23.483Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:55:23.514Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:55:23.531Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:55:23.545Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:55:23.548Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:55:23.557Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:55:23.562Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T05:55:23.562Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T05:55:23.568Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:55:30.027Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:55:30.032Z","userId":1,"userType":"reader"}
{"chiTiet":[{"maSach":1,"soLuongSachMuon":1}],"level":"info","maDocGia":1,"message":"Creating borrow request","timestamp":"2025-10-16T05:55:30.032Z"}
{"level":"info","maPhieuMuon":2,"message":"Borrow request created","timestamp":"2025-10-16T05:55:30.070Z"}
{"level":"info","maPhieuMuon":2,"message":"Borrow request completed successfully","timestamp":"2025-10-16T05:55:30.083Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:55:30.091Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:55:30.098Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:55:30.100Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:55:30.102Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:55:30.108Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:55:30.108Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:55:30.110Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T05:55:30.110Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:55:30.111Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T05:55:30.113Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:55:32.598Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:55:32.600Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:55:32.604Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T05:55:32.604Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:55:32.612Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T05:55:32.614Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:55:35.934Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:55:35.952Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:55:35.954Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:55:35.957Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:55:35.958Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:55:35.963Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:55:35.967Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T05:55:35.968Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:55:35.976Z"}
{"count":2,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T05:55:36.013Z"}
{"level":"info","message":"Token decoded","timestamp":"2025-10-16T05:55:52.423Z"}
{"level":"warn","message":"User not found","timestamp":"2025-10-16T05:55:52.423Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:56:03.095Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:56:03.106Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:56:03.115Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:56:03.127Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:56:03.131Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:56:03.143Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:56:03.151Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:56:03.169Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:56:03.170Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:56:03.170Z"}
{"count":2,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:56:03.218Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:56:05.568Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:56:05.569Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:56:05.569Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:56:05.569Z"}
{"count":2,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:56:05.575Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:56:08.130Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:56:08.133Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:56:08.133Z","userId":1}
{"level":"info","maPhieuMuon":"2","message":"Updating borrow request","timestamp":"2025-10-16T05:56:08.134Z","trangThai":"Đã duyệt"}
{"level":"info","maPhieuMuon":"2","message":"Borrow request updated successfully","timestamp":"2025-10-16T05:56:08.174Z","trangThai":"Đã duyệt"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:56:08.195Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:56:08.196Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:56:08.196Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:56:08.196Z"}
{"count":2,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:56:08.201Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:56:09.091Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:56:09.097Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:56:09.101Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:56:09.102Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:56:09.106Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:56:09.107Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:56:09.113Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:56:09.114Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T05:56:09.114Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T05:56:09.116Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:56:10.508Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:56:10.513Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:56:10.518Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:56:10.520Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:56:10.527Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:56:10.528Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:56:10.536Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:56:10.538Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:56:10.538Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:56:10.538Z"}
{"count":2,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:56:10.543Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:56:13.250Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:56:13.253Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:56:13.254Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:56:13.256Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:56:13.260Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:56:13.261Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:56:13.266Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:56:13.268Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:56:13.268Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:56:13.268Z"}
{"count":2,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:56:13.272Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:56:18.767Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:56:18.784Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:56:18.788Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:56:18.792Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:56:18.794Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:56:18.815Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:56:18.819Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T05:56:18.819Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:56:18.825Z"}
{"count":2,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T05:56:18.834Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:58:53.321Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:58:53.341Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:58:53.482Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:58:53.483Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:58:54.043Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:58:54.047Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:58:54.051Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:58:54.057Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:58:54.058Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:58:54.066Z","userId":1}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:58:54.082Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:58:54.083Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T05:58:54.083Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T05:58:54.091Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:59:33.825Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:59:33.832Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T05:59:33.860Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:59:33.865Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:59:33.940Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T05:59:33.940Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:59:33.945Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:59:33.948Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:59:33.950Z"}
{"count":2,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T05:59:33.964Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T05:59:39.578Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T05:59:39.589Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T05:59:39.594Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T05:59:39.598Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T05:59:39.599Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T05:59:39.601Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T05:59:39.604Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T05:59:39.608Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T05:59:39.608Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T05:59:39.608Z"}
{"count":2,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T05:59:39.635Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:00:05.925Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:00:05.927Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:00:05.928Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:00:05.941Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:00:05.964Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:00:05.972Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:00:05.975Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:00:05.977Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:00:05.977Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T06:00:05.978Z"}
{"count":2,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T06:00:06.010Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:00:11.931Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:00:11.935Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:00:11.937Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:00:11.940Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:00:11.942Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:00:11.954Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:00:11.964Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:00:11.973Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:00:11.973Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T06:00:11.973Z"}
{"count":2,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T06:00:12.013Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:00:14.311Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:00:14.314Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:00:14.317Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:00:14.319Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:00:14.322Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:00:14.324Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:00:14.329Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:00:14.331Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:00:14.331Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:00:14.333Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:00:14.967Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:00:14.968Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:00:14.972Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:00:14.976Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:00:15.848Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:00:15.851Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:00:15.853Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:00:15.855Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:00:15.858Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:00:15.860Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:00:15.864Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:00:15.865Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:00:15.866Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T06:00:15.866Z"}
{"count":2,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T06:00:15.870Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:01:52.937Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:01:52.943Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:01:52.967Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:01:52.969Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:01:53.752Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:01:53.756Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:01:53.757Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-16T06:01:53.758Z","userId":1}
{"count":1,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-16T06:01:53.761Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:01:54.436Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:01:54.438Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:01:54.439Z","userId":1}
{"level":"info","message":"Fetching all staff","timestamp":"2025-10-16T06:01:54.439Z","userId":1}
{"count":1,"level":"info","message":"Staff fetched successfully","timestamp":"2025-10-16T06:01:54.444Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:01:55.101Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:01:55.104Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:01:55.104Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:01:55.108Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:01:56.830Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:01:56.834Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:01:56.841Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:01:56.842Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:01:56.845Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:01:56.847Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:01:56.853Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:01:56.856Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:01:56.856Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:01:56.858Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:01:57.484Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:01:57.486Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:01:57.493Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:01:57.498Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:02:11.445Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:02:11.466Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:02:11.469Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:02:11.469Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:02:11.471Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:02:11.474Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:02:11.475Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:02:11.477Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:02:11.477Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T06:02:11.477Z"}
{"count":2,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T06:02:11.506Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:02:13.876Z"}
{"count":1,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:02:13.884Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:02:13.886Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:02:13.888Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:02:13.891Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:02:13.892Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:02:13.900Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:02:13.901Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:02:13.901Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:02:13.903Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:02:54.926Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:02:54.937Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:02:54.937Z","userId":1}
{"data":{"donGia":"12000","maNXB":"1","maTacGia":"1","maTheLoai":"1","namXuatBan":"2025","nguonGoc":"viet nam","soQuyen":"9","tenSach":"test2"},"level":"info","message":"Creating book","timestamp":"2025-10-16T06:02:54.958Z"}
{"book":{"createdAt":"2025-10-16T06:02:54.976Z","donGia":12000,"imagePath":"uploads/1760594574954-Capybara Hutech.jpg","maNXB":1,"maSach":2,"maTacGia":1,"maTheLoai":1,"namXuatBan":2025,"nguonGoc":"viet nam","soLuongHienCo":9,"tenSach":"test2","updatedAt":"2025-10-16T06:02:54.976Z"},"level":"info","message":"Book created","timestamp":"2025-10-16T06:02:54.993Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:02:55.002Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:02:55.004Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:02:55.007Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:02:55.008Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:02:55.012Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:02:55.013Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:02:55.019Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:02:55.020Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:02:55.020Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:02:55.021Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:03:02.929Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:03:02.932Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:03:02.945Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:03:02.958Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:03:02.987Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:03:02.994Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:03:03.007Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T06:03:03.007Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:03:03.010Z"}
{"count":2,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T06:03:03.017Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:03:09.426Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:03:09.441Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:03:09.475Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:03:09.478Z","userId":1}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:03:09.488Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:03:09.488Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:03:09.490Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:03:09.491Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:03:09.491Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:03:09.493Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:03:16.289Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:03:16.291Z","userId":1,"userType":"reader"}
{"chiTiet":[{"maSach":1,"soLuongSachMuon":1},{"maSach":2,"soLuongSachMuon":1}],"level":"info","maDocGia":1,"message":"Creating borrow request","timestamp":"2025-10-16T06:03:16.292Z"}
{"level":"info","maPhieuMuon":3,"message":"Borrow request created","timestamp":"2025-10-16T06:03:16.300Z"}
{"level":"info","maPhieuMuon":3,"message":"Borrow request completed successfully","timestamp":"2025-10-16T06:03:16.328Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:03:16.344Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:03:16.349Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:03:16.352Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:03:16.353Z","userId":1}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:03:16.355Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:03:16.356Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:03:16.358Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:03:16.359Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:03:16.359Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:03:16.360Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:03:20.010Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:03:20.016Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T06:03:20.016Z"}
{"count":3,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T06:03:20.035Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:03:50.360Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:03:50.371Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:03:50.371Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T06:03:50.371Z"}
{"count":3,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T06:03:50.382Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:03:53.389Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:03:53.391Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:03:53.391Z","userId":1}
{"level":"info","maPhieuMuon":"3","message":"Updating borrow request","timestamp":"2025-10-16T06:03:53.391Z","trangThai":"Từ chối"}
{"level":"info","maPhieuMuon":"3","message":"Borrow request updated successfully","timestamp":"2025-10-16T06:03:53.415Z","trangThai":"Từ chối"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:03:53.432Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:03:53.435Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:03:53.435Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T06:03:53.435Z"}
{"count":3,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T06:03:53.440Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:04:02.171Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:04:02.176Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T06:04:02.176Z"}
{"count":3,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T06:04:02.185Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:04:12.133Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:04:12.140Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:04:12.162Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:04:12.167Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:04:12.192Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:04:12.196Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:04:12.199Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:04:12.203Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:04:12.204Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:04:12.210Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:04:19.496Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:04:19.498Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T06:04:19.499Z"}
{"count":3,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T06:04:19.511Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:04:29.572Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:04:29.580Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:04:29.595Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:04:29.598Z","userId":1}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:04:29.602Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:04:29.607Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:04:29.612Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:04:29.615Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:04:29.616Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:04:29.630Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:04:33.916Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:04:33.919Z","userId":1,"userType":"reader"}
{"chiTiet":[{"maSach":2,"soLuongSachMuon":1}],"level":"info","maDocGia":1,"message":"Creating borrow request","timestamp":"2025-10-16T06:04:33.919Z"}
{"level":"info","maPhieuMuon":4,"message":"Borrow request created","timestamp":"2025-10-16T06:04:33.930Z"}
{"level":"info","maPhieuMuon":4,"message":"Borrow request completed successfully","timestamp":"2025-10-16T06:04:33.943Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:04:33.957Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:04:33.961Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:04:33.963Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:04:33.964Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:04:33.965Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:04:33.967Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:04:33.969Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:04:33.969Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:04:33.969Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:04:33.972Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:04:37.153Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:04:37.164Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T06:04:37.164Z"}
{"count":4,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T06:04:37.177Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:04:52.346Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:04:52.378Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:04:52.378Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T06:04:52.379Z"}
{"count":4,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T06:04:52.411Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:10:17.475Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:10:17.493Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T06:10:17.494Z"}
{"count":4,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T06:10:17.526Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:10:24.521Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:10:24.530Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:10:24.558Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:10:24.574Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:10:24.607Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:10:24.612Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:10:24.618Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T06:10:24.618Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:10:24.622Z"}
{"count":4,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T06:10:24.630Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:10:28.472Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:10:28.475Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:10:28.477Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:10:28.480Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:10:28.483Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:10:28.486Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:10:28.494Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:10:28.498Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:10:28.499Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:10:28.506Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:10:35.533Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:10:35.535Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T06:10:35.535Z"}
{"count":4,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T06:10:35.553Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:10:44.789Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:10:44.798Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:10:44.798Z","userId":1}
{"level":"info","maPhieuMuon":"4","message":"Updating borrow request","timestamp":"2025-10-16T06:10:44.799Z","trangThai":"Từ chối"}
{"level":"error","maPhieuMuon":"4","message":"Error updating borrow request transaction is not defined","stack":"ReferenceError: transaction is not defined\n    at updateBorrowRequest (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:171:55)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-16T06:10:44.811Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T06:13:01.173Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:13:01.233Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T06:13:01.233Z"}
{"count":4,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T06:13:01.246Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:13:12.674Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:13:12.677Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:13:12.681Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:13:12.707Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:13:14.902Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:13:14.907Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:13:14.907Z","userId":1}
{"level":"info","message":"Fetching all readers","timestamp":"2025-10-16T06:13:14.908Z","userId":1}
{"count":1,"level":"info","message":"Readers fetched successfully","timestamp":"2025-10-16T06:13:14.910Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:13:19.496Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:13:19.499Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:13:19.499Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T06:13:19.499Z"}
{"count":4,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T06:13:19.516Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:13:22.038Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:13:22.040Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:13:22.040Z","userId":1}
{"level":"info","maPhieuMuon":"4","message":"Updating borrow request","timestamp":"2025-10-16T06:13:22.041Z","trangThai":"Từ chối"}
{"level":"error","maPhieuMuon":"4","message":"Error updating borrow request transaction is not defined","stack":"ReferenceError: transaction is not defined\n    at updateBorrowRequest (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:171:55)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-16T06:13:22.044Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:13:59.136Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:13:59.171Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:13:59.171Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T06:13:59.171Z"}
{"count":4,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T06:13:59.185Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:14:02.325Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:14:02.328Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:14:02.328Z","userId":1}
{"level":"info","maPhieuMuon":"4","message":"Updating borrow request","timestamp":"2025-10-16T06:14:02.328Z","trangThai":"Từ chối"}
{"level":"error","maPhieuMuon":"4","message":"Error updating borrow request transaction is not defined","stack":"ReferenceError: transaction is not defined\n    at updateBorrowRequest (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/controllers/borrowController.js:177:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-10-16T06:14:02.335Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:14:28.993Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:14:29.005Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:14:29.005Z","userId":1}
{"level":"info","maPhieuMuon":"4","message":"Updating borrow request","timestamp":"2025-10-16T06:14:29.006Z","trangThai":"Từ chối"}
{"level":"info","maPhieuMuon":"4","message":"Borrow request updated successfully","timestamp":"2025-10-16T06:14:29.038Z","trangThai":"Từ chối"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:14:29.058Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:14:29.060Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-10-16T06:14:29.060Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-10-16T06:14:29.060Z"}
{"count":4,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-10-16T06:14:29.068Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:14:32.575Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:14:32.581Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:14:32.585Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:14:32.586Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:14:32.591Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:14:32.593Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:14:32.597Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:14:32.598Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:14:32.599Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:14:32.603Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T06:14:35.880Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T06:14:35.885Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T06:14:35.886Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T06:14:35.888Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T06:14:35.889Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T06:14:35.890Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-10-16T06:14:35.894Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T06:14:35.895Z","userId":1,"userType":"staff"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T06:14:35.895Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T06:14:35.896Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T09:55:14.617Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T09:55:14.698Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T09:55:14.698Z"}
{"count":4,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T09:55:14.708Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T09:55:17.322Z","userId":1}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T09:55:17.324Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T09:55:17.327Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T09:55:17.330Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T09:55:17.334Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T09:55:17.335Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T09:55:17.355Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T09:55:17.357Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T09:55:17.360Z"}
{"count":4,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T09:55:17.363Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T09:56:00.455Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T09:56:00.477Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T09:56:00.477Z"}
{"count":4,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T09:56:00.490Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T09:56:01.857Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T09:56:01.860Z","userId":1}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T09:56:01.867Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T09:56:01.869Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T09:56:01.870Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T09:56:01.876Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T09:56:03.009Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T09:56:03.011Z","userId":1}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T09:56:03.017Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T09:56:03.019Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T09:56:03.022Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T09:56:03.023Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T09:56:03.023Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T09:56:03.026Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T09:56:03.027Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T09:56:03.028Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T09:56:04.872Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T09:56:04.874Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T09:56:04.875Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T09:56:04.878Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T09:56:04.881Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T09:56:04.883Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T09:56:04.892Z","userId":1,"userType":"reader"}
{"level":"info","maDocGia":1,"message":"Fetching borrow history for reader","timestamp":"2025-10-16T09:56:04.892Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T09:56:04.894Z"}
{"count":4,"level":"info","maDocGia":1,"message":"Borrow history fetched successfully","timestamp":"2025-10-16T09:56:04.899Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T09:56:25.392Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T09:56:25.394Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T09:56:25.401Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T09:56:25.405Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T09:56:26.470Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T09:56:26.472Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T09:56:26.473Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T09:56:26.475Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T09:56:26.477Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T09:56:26.479Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T09:56:26.481Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T09:56:26.481Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T09:56:26.482Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T09:56:26.483Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T09:59:23.372Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T09:59:23.391Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T09:59:23.413Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T09:59:23.417Z","userId":1}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T09:59:24.035Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T09:59:24.035Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T09:59:24.039Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T09:59:24.042Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T09:59:24.045Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T09:59:24.047Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-16T13:53:43.622Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-16T13:53:43.645Z","userId":1}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-16T13:53:43.647Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-16T13:53:43.649Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-16T13:53:43.803Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-16T13:53:43.805Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-16T13:53:43.805Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-16T13:53:43.806Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-16T13:53:43.806Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-16T13:53:43.824Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-17T00:45:51.640Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-17T00:45:51.666Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-17T00:45:51.670Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-17T00:45:51.688Z","userId":1}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-17T00:45:51.814Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-17T00:45:51.815Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-17T00:45:51.815Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-17T00:45:51.830Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-17T00:45:51.830Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-17T00:45:51.839Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-17T14:33:02.206Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-17T14:33:02.219Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-17T14:33:02.229Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-17T14:33:02.236Z","userId":1}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-17T14:33:02.517Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-17T14:33:02.518Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-17T14:33:02.519Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-17T14:33:02.519Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-17T14:33:02.521Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-17T14:33:02.527Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-18T07:45:43.208Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-18T07:45:43.221Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-18T07:45:43.249Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-18T07:45:43.264Z","userId":1}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-18T07:45:43.390Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-18T07:45:43.391Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-18T07:45:43.393Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-18T07:45:43.395Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-18T07:45:43.395Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-18T07:45:43.403Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-10-18T09:29:27.188Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-10-18T09:29:27.205Z"}
{"level":"info","message":"Token decoded","role":"reader","timestamp":"2025-10-18T09:29:27.224Z","userId":1}
{"level":"info","message":"Fetching all authors","timestamp":"2025-10-18T09:29:27.228Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-10-18T09:29:27.625Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-10-18T09:29:27.628Z","userId":1,"userType":"reader"}
{"level":"info","message":"Fetching all categories","timestamp":"2025-10-18T09:29:27.628Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-10-18T09:29:27.632Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-10-18T09:29:27.633Z"}
{"count":1,"level":"info","message":"Categories fetched","timestamp":"2025-10-18T09:29:27.638Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-11-08T12:07:56.456Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-11-08T12:07:56.463Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-11-08T12:07:56.470Z"}
{"error":"jwt expired","level":"error","message":"Authentication error","stack":"TokenExpiredError: jwt expired\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/jsonwebtoken/verify.js:190:21\n    at getSecret (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/jsonwebtoken/verify.js:97:14)\n    at module.exports [as verify] (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/jsonwebtoken/verify.js:101:10)\n    at auth (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/middlewares/authMiddleware.js:14:25)\n    at Layer.handle [as handle_request] (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/express/lib/router/index.js:284:15\n    at router.process_params (/Users/trantieuman/Documents/Quản trị dữ liệu/LibraryManagement/backend/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-11-08T12:07:56.515Z"}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-11-08T12:07:56.551Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-11-08T12:07:56.553Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-11-08T12:07:56.576Z"}
{"level":"info","message":"Fetching all publishers","timestamp":"2025-11-08T12:08:18.447Z"}
{"level":"info","message":"Fetching all authors","timestamp":"2025-11-08T12:08:18.448Z"}
{"level":"info","message":"Fetching all books","timestamp":"2025-11-08T12:08:18.450Z"}
{"level":"info","message":"Token decoded","role":"admin","timestamp":"2025-11-08T12:08:18.453Z","userId":1}
{"count":1,"level":"info","message":"Publishers fetched","timestamp":"2025-11-08T12:08:18.463Z"}
{"count":1,"level":"info","message":"Authors fetched","timestamp":"2025-11-08T12:08:18.465Z"}
{"count":2,"level":"info","message":"Books fetched","timestamp":"2025-11-08T12:08:18.467Z"}
{"level":"info","message":"User authenticated","timestamp":"2025-11-08T12:08:18.468Z","userId":1,"userType":"staff"}
{"level":"info","message":"Admin access granted","timestamp":"2025-11-08T12:08:18.469Z","userId":1}
{"level":"info","message":"Fetching all borrow requests","timestamp":"2025-11-08T12:08:18.469Z"}
{"count":4,"level":"info","message":"Borrow requests fetched successfully","timestamp":"2025-11-08T12:08:18.481Z"}
